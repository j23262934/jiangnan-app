<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ê±üÂçóÁü•Â∫ú v17.7</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <style>
        /* --- 1. Ê†∏ÂøÉËÆäÊï∏ --- */
        :root {
            --bg-body: #F2F2F7;
            --bg-card: #FFFFFF;
            --bg-input: #E3E3E8;
            --text-main: #1C1C1E;
            --text-sub: #8E8E93;
            --primary: #5dabff;
            --primary-grad: linear-gradient(135deg, #a3bded 0%, #6991c7 100%);
            --danger: #FF3B30;
            --success: #34C759;
            --rank-tian: #fab75a;
            --rank-hou: #5a9ffa;
            --rank-qing: #8fe09d;
            --rank-shi: #A0A0A5;
            --radius-m: 12px;
            --radius-l: 18px;
            --radius-xl: 24px;
            --shadow: 0 4px 20px rgba(0,0,0,0.06);
            --bottom-nav-height: 80px;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans TC", sans-serif;
            background-color: var(--bg-body); margin: 0; color: var(--text-main); height: 100vh;
            display: flex; flex-direction: column; overflow: hidden;
        }

        /* --- ÊèêÁ§∫ËàáÁ¢∫Ë™çÂç°Áâá --- */
        #toast-container { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); z-index: 3000; pointer-events: none; }
        .toast { background: rgba(28, 28, 30, 0.9); color: #fff; padding: 10px 20px; border-radius: 30px; font-size: 0.9rem; font-weight: 500; margin-bottom: 10px; backdrop-filter: blur(10px); animation: toastIn 0.3s ease-out forwards; }
        @keyframes toastIn { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }

        #confirm-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.3); z-index: 2000; opacity: 0; pointer-events: auto; transition: 0.3s; backdrop-filter: blur(2px); display: none; }
        #confirm-overlay.open { display: block; opacity: 1; }
        #confirm-card { position: fixed; top: 0; left: 50%; transform: translate(-50%, -150%); width: 90%; max-width: 400px; background: #fff; border-radius: 24px; padding: 24px; box-shadow: 0 20px 60px rgba(0,0,0,0.3); z-index: 2100; transition: transform 0.5s cubic-bezier(0.18, 0.89, 0.32, 1.1); }
        #confirm-card.open { transform: translate(-50%, 20px); }
        .confirm-title { font-weight: 800; margin-bottom: 8px; font-size: 1.2rem; text-align: center; }
        .confirm-msg { color: var(--text-sub); font-size: 0.95rem; margin-bottom: 20px; text-align: center; line-height: 1.5; }

        /* --- È†ÇÈÉ®Â∞éËà™ --- */
        header { background: rgba(255, 255, 255, 0.85); backdrop-filter: blur(20px); z-index: 10; padding-bottom: 8px; border-bottom: 1px solid rgba(0,0,0,0.05); flex-shrink: 0; }
        .app-title { text-align: center; font-size: 1.1rem; font-weight: 700; padding: 12px 0 8px 0; }
        .city-scroll { display: flex; width: 100%; padding: 0 15px; gap: 8px; overflow-x: auto; scrollbar-width: none; }
        .city-scroll::-webkit-scrollbar { display: none; }
        .city-tab { flex-shrink: 0; padding: 8px 18px; border-radius: 30px; color: var(--text-sub); font-size: 0.9rem; font-weight: 700; cursor: pointer; transition: 0.2s; white-space: nowrap; }
        .city-tab.active { background: var(--text-main); color: #fff; }
        .city-tab.special-tab { color: var(--primary); background: rgba(0, 122, 255, 0.08); }
        .city-tab.special-tab.active { background: var(--primary-grad); color: #fff; }

        main { flex: 1; overflow-y: auto; padding: 20px 20px 110px 20px; }
        .section-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; width: 100%; }
        .subtitle { font-size: 1.5rem; font-weight: 800; }
        .btn-action { background: var(--primary-grad); color: white; border: none; border-radius: 30px; padding: 8px 18px; font-size: 0.9rem; font-weight: 600; cursor: pointer; transition: transform 0.1s; flex-shrink: 0; }

        .search-container { margin-bottom: 20px; position: relative; }
        .search-input-main { width: 100%; padding: 12px 16px 12px 42px; border: none; background: #FFFFFF; border-radius: 12px; font-size: 1rem; box-shadow: var(--shadow); }
        .search-icon { position: absolute; left: 14px; top: 50%; transform: translateY(-50%); color: var(--text-sub); }

        .view-section { display: none; opacity: 0; animation: fadeIn 0.3s forwards; }
        .view-section.active { display: block; }
        @keyframes fadeIn { to { opacity: 1; } }

        /* --- Âç°ÁâáÊ®£Âºè (ÂÖ©Ê¨ÑÂÑ™Âåñ) --- */
        .card-base { background: var(--bg-card); border-radius: var(--radius-l); padding: 12px; box-shadow: var(--shadow); margin-bottom: 10px; transition: 0.2s; position: relative; overflow: hidden; cursor: pointer; }
        .char-grid, .building-list { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; }
        .card-header-row { display: flex; justify-content: space-between; align-items: center; width: 100%; gap: 4px; }
        .char-name { font-size: 0.95rem; font-weight: 700; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; flex: 1; }
        .rank-tag { font-size: 0.65rem; font-weight: 700; padding: 2px 6px; border-radius: 20px; color: #fff; flex-shrink: 0; }
        .bg-Â§© { background: var(--rank-tian); } .bg-‰æØ { background: var(--rank-hou); } .bg-Âçø { background: var(--rank-qing); } .bg-Â£´ { background: var(--rank-shi); }
        .char-talent { font-size: 0.75rem; color: var(--text-sub); line-height: 1.4; background: #F9F9FB; padding: 8px; border-radius: var(--radius-m); margin-top: 6px; display: -webkit-box; -webkit-line-clamp: 4; -webkit-box-orient: vertical; overflow: hidden; }
        .talent-hl { color: var(--primary); font-weight: 800; }
        .stats-row { display: flex; justify-content: space-between; margin-top: 8px; flex-wrap: wrap; gap: 2px; }
        .stat-box { display: flex; flex-direction: column; align-items: center; flex: 1; min-width: 25px; }
        .stat-label { font-size: 0.6rem; color: #B0B0B5; }
        .stat-val { font-size: 0.85rem; font-weight: 600; }

        /* --- Âª∫ÁØâÊ®£Âºè --- */
        .building-card { display: flex; flex-direction: column; align-items: flex-start; gap: 6px; padding: 12px 10px 10px 16px; position: relative; }
        .b-color-strip { position: absolute; left: 0; top: 0; bottom: 0; width: 5px; }
        .b-info { width: 100%; min-width: 0; }
        .b-name { font-weight: 700; font-size: 0.9rem; display: block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .b-desc { font-size: 0.75rem; color: var(--text-sub); display: block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .btn-distribute { width: 100%; margin-top: 4px; color: #443c3c; background: #F2F2F7; border: none; border-radius: 20px; padding: 5px 0; font-size: 0.75rem; font-weight: 700; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 2px; }
        .b-count-tag { position: absolute; top: 6px; right: 8px; background: var(--primary); color: #fff; font-size: 0.7rem; font-weight: 800; padding: 2px 6px; border-radius: 8px; }

        /* --- Ê¶ÇÊ≥ÅÂ∞àÁî®Ê®£Âºè --- */
        .overview-divider { margin: 25px 0 12px 0; font-size: 0.85rem; font-weight: 700; color: var(--text-main); display: flex; align-items: center; gap: 8px; cursor: pointer; user-select: none; }
        .ov-count-tag { font-size: 0.7rem; background: #E5E5EA; color: #8E8E93; padding: 2px 8px; border-radius: 10px; font-weight: normal; }
        .ov-toggle-icon { font-size: 1.2rem; transition: transform 0.3s; color: var(--text-sub); margin-left: auto; }
        .ov-divider-collapsed .ov-toggle-icon { transform: rotate(-90deg); }
        .ov-collapsible-content { overflow: hidden; transition: max-height 0.3s ease-out; }
        .ov-collapsible-content.collapsed { max-height: 0 !important; }
        .ov-char-grid, .ov-build-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; padding-bottom: 5px; }
        .ov-char-card .stats-row { display: none; } 
        .ov-build-card { padding: 10px 10px 10px 16px !important; margin-bottom: 0 !important; min-height: 44px; flex-direction: row; align-items: center; }
        .ov-build-card .b-desc { display: none; } 

        /* Â∫ïÈÉ®ÈÅ∏ÂñÆ */
        .bottom-nav { position: fixed; bottom: 0; left: 0; right: 0; height: var(--bottom-nav-height); background: rgba(255, 255, 255, 0.85); backdrop-filter: blur(20px); border-top: 1px solid rgba(0,0,0,0.05); display: flex; justify-content: space-around; align-items: center; z-index: 50; padding-bottom: 15px; }
        .nav-item { flex: 1; text-align: center; color: #C7C7CC; font-size: 0.75rem; cursor: pointer; }
        .nav-item.active { color: var(--text-main); }
        .nav-icon { display: block; width: 24px; height: 24px; margin: 0 auto 4px auto; fill: currentColor; }

        /* Modal */
        .modal-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.4); z-index: 100; backdrop-filter: blur(4px); display: flex; justify-content: center; align-items: flex-end; padding-bottom: 30px; opacity: 0; pointer-events: none; transition: 0.3s; }
        .modal-overlay.open { opacity: 1; pointer-events: auto; }
        .modal-box { background: #fff; width: 95%; max-width: 500px; border-radius: var(--radius-xl); padding: 30px 24px; max-height: 85vh; overflow-y: auto; transform: translateY(100%); transition: 0.3s; }
        .modal-overlay.open .modal-box { transform: translateY(0); }
        .modal-title { font-size: 1.25rem; font-weight: 800; margin-bottom: 20px; text-align: center; }
        .edit-group-v { margin-bottom: 20px; }
        .edit-label { font-size: 0.85rem; color: var(--text-sub); font-weight: 600; margin-bottom: 8px; display: block; }
        .text-input, .talent-input, .select-input { width: 100%; padding: 14px; border: none; background: var(--bg-input); border-radius: 12px; font-size: 1rem; color: var(--text-main); }
        .stat-inputs { display: grid; grid-template-columns: repeat(5, 1fr); gap: 8px; }
        .stat-input-wrap input { width: 100%; text-align: center; padding: 12px 0; border: none; background: var(--bg-input); border-radius: 12px; font-weight: 700; }
        .city-dispatch-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
        .dispatch-btn { padding: 12px; border: none; background: var(--bg-input); border-radius: 12px; font-weight: 600; cursor: pointer; border: 2px solid transparent; }
        .dispatch-btn.selected { background: #EAF2FF; color: var(--primary); border-color: var(--primary); }
        .action-btns { margin-top: 25px; display: flex; gap: 12px; }
        .btn { flex: 1; padding: 14px; border: none; border-radius: 16px; font-weight: 700; cursor: pointer; }
        .btn-cancel { background: #F2F2F7; color: var(--text-sub); }
        .btn-save-full { background: var(--primary-grad); color: white; }
        .btn-delete { background: #FFF0F0; color: var(--danger); width: 100%; margin-top: 15px; }

        /* È°èËâ≤ÈÅ∏ÂèñÂ¢ûÂº∑ */
        .color-row { display: flex; align-items: center; gap: 8px; }
        .circular-color-picker { width: 45px; height: 45px; border-radius: 50%; overflow: hidden; border: 3px solid #fff; box-shadow: 0 2px 10px rgba(0,0,0,0.1); position: relative; cursor: pointer; flex-shrink: 0; }
        .circular-color-picker input[type="color"] { position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; cursor: pointer; opacity: 0; }
        .color-hex-input { font-family: monospace; text-transform: uppercase; text-align: center; padding: 12px 8px !important; font-size: 0.9rem !important; }

        .suggestion-container { position: absolute; top: 100%; left: 0; right: 0; background: #fff; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.15); z-index: 1001; display: none; max-height: 200px; overflow-y: auto; border: 1px solid #eee; }
        .suggestion-item { padding: 14px 16px; border-bottom: 1px solid #f2f2f7; cursor: pointer; display: flex; justify-content: space-between; }
    </style>
</head>
<body>

    <div id="toast-container"></div>
    <div id="confirm-overlay" onclick="handleConfirm(false)"></div>
    <div id="confirm-card">
        <div class="confirm-title" id="confirm-title">Á¢∫Ë™ç</div>
        <div class="confirm-msg" id="confirm-msg"></div>
        <div style="display:flex; gap:12px;">
            <button class="btn btn-cancel" onclick="handleConfirm(false)">ÂèñÊ∂à</button>
            <button class="btn btn-save-full" style="background:var(--danger);" id="confirm-ok-btn" onclick="handleConfirm(true)">Á¢∫ÂÆö</button>
        </div>
    </div>

    <header>
        <div class="app-title">Ê±üÂçóÁü•Â∫ú v17.7</div>
        <nav class="city-scroll" id="cityTabs"></nav>
    </header>

    <main>
        <!-- View 1: ‰∫∫Áâ© -->
        <div id="view-people" class="view-section active">
            <div class="section-header">
                <div class="subtitle">‰∫∫Âì°</div>
                <button class="btn-action" onclick="openAddCharModal()">Ôºã Êñ∞Â¢û</button>
            </div>
            <div class="search-container">
                <span class="material-symbols-outlined search-icon">search</span>
                <input type="text" id="searchInput" class="search-input-main" placeholder="ÊêúÂ∞ãÂßìÂêç..." oninput="renderPeople()">
            </div>
            <div id="charList" class="char-grid"></div>
        </div>

        <!-- View 2: Âª∫ÁØâ -->
        <div id="view-city" class="view-section">
            <div class="section-header">
                <div class="subtitle" id="build-subtitle">Âª∫ÁØâÂÄâÂ∫´</div>
                <button id="addBuildBtn" class="btn-action" onclick="openAddBuildingModal()">Ôºã Êñ∞Â¢ûÂéüÂûã</button>
            </div>
            <div class="search-container">
                <span class="material-symbols-outlined search-icon">search</span>
                <input type="text" id="searchBuildInput" class="search-input-main" placeholder="ÊêúÂ∞ãÂª∫ÁØâÂêçÁ®±..." oninput="renderCityInfo()">
            </div>
            <div id="buildingList" class="building-list"></div>
        </div>

        <!-- View 3: Ê¶ÇÊ≥Å -->
        <div id="view-overview" class="view-section">
            <div class="section-header"><div class="subtitle">Â∑ûÂ∫úÁ∏ΩË¶Ω</div></div>
            <div id="overview-content"></div>
            <button class="btn btn-save-full" style="background:var(--success); color:#fff; width:100%; margin-top:40px; border-radius:16px;" onclick="openDataModal()">üíæ Êï∏ÊìöÂÇô‰ªΩ / ÈÇÑÂéü</button>
        </div>
    </main>

    <nav class="bottom-nav">
        <div class="nav-item active" onclick="switchTab('people')"><svg class="nav-icon" viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg><div>‰∫∫Áâ©</div></div>
        <div class="nav-item" onclick="switchTab('city')"><svg class="nav-icon" viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM7 10h2v7H7zm4 0h2v7h-2zm4 0h2v7h-2z"/></svg><div>Âª∫ÁØâ</div></div>
        <div class="nav-item" onclick="switchTab('overview')"><svg class="nav-icon" viewBox="0 0 24 24"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"/></svg><div>Ê¶ÇÊ≥Å</div></div>
    </nav>

    <!-- Modals -->
    <div class="modal-overlay" id="charModal">
        <div class="modal-box">
            <div class="modal-title" id="charModalTitle">Á∑®ËºØ‰∫∫Áâ©</div>
            <div class="field-row" style="display:flex; gap:12px; margin-bottom:15px; align-items:flex-end;">
                <div class="edit-group" style="flex:1; position:relative;">
                    <label class="edit-label">ÂßìÂêç</label>
                    <input type="text" id="in-c-name" class="text-input" oninput="handleNameInput()" autocomplete="off">
                    <div id="suggestionBox" class="suggestion-container"></div>
                </div>
                <div class="edit-group" style="flex:0 0 100px;">
                    <label class="edit-label">ÈöéÁ¥ö</label>
                    <select id="in-c-rank" class="select-input">
                        <option value="Â§©">Â§©</option><option value="‰æØ">‰æØ</option><option value="Âçø">Âçø</option><option value="Â£´">Â£´</option>
                    </select>
                </div>
            </div>
            <div class="edit-group-v">
                <label class="edit-label">‰∫îÁ∂≠Â±¨ÊÄß</label>
                <div class="stat-inputs">
                    <div class="stat-input-wrap"><input type="number" id="in-c-build"></div>
                    <div class="stat-input-wrap"><input type="number" id="in-c-farm"></div>
                    <div class="stat-input-wrap"><input type="number" id="in-c-make"></div>
                    <div class="stat-input-wrap"><input type="number" id="in-c-money"></div>
                    <div class="stat-input-wrap"><input type="number" id="in-c-adv"></div>
                </div>
            </div>
            <div class="edit-group-v">
                <label class="edit-label">ËÉΩÂäõ [ ] È´ò‰∫Æ</label>
                <textarea id="in-c-talent" class="talent-input" rows="2"></textarea>
            </div>
            <div class="edit-group-v">
                <label class="edit-label">ÊâÄÂú®Âú∞</label>
                <div class="city-dispatch-grid" id="modalCityGrid"></div>
            </div>
            <div class="action-btns">
                <button class="btn btn-cancel" onclick="closeModal('charModal')">ÂèñÊ∂à</button>
                <button class="btn btn-save-full" onclick="saveChar()">ÂÑ≤Â≠ò</button>
            </div>
            <button id="btn-delete-char" class="btn btn-delete" onclick="askDeleteChar()">Âà™Èô§Ê≠§‰∫∫</button>
        </div>
    </div>

    <div class="modal-overlay" id="buildingModal">
        <div class="modal-box">
            <div class="modal-title" id="buildModalTitle">ÂéüÂûãË®≠ÂÆö</div>
            <!-- ‰øÆÊîπÈªûÔºöÂêçÁ®±ËàáÈ°èËâ≤Âú®Âêå‰∏ÄË°å -->
            <div style="display:flex; gap:12px; margin-bottom:15px; align-items:flex-end;">
                <div class="edit-group" style="flex:1;">
                    <label class="edit-label">ÂêçÁ®±</label>
                    <input type="text" id="in-b-name" class="text-input">
                </div>
                <div class="edit-group" style="flex:0 0 140px;">
                    <label class="edit-label">È°èËâ≤</label>
                    <div class="color-row">
                        <div class="circular-color-picker" id="color-circle">
                            <input type="color" id="in-b-color" oninput="syncColorInput(this.value)">
                        </div>
                        <input type="text" id="in-b-hex" class="text-input color-hex-input" placeholder="#HEX" oninput="syncColorInput(this.value)">
                    </div>
                </div>
            </div>
            <div class="edit-group-v">
                <label class="edit-label">ÂÇôË®ª</label>
                <input type="text" id="in-b-desc" class="text-input">
            </div>
            <div class="action-btns">
                <button class="btn btn-cancel" onclick="closeModal('buildingModal')">ÂèñÊ∂à</button>
                <button class="btn btn-save-full" onclick="saveMasterBuilding()">ÂÑ≤Â≠ò</button>
            </div>
            <button id="btn-delete-build" class="btn btn-delete" onclick="askDeleteBuild()">ÈÄ£ÈéñÂà™Èô§</button>
        </div>
    </div>

    <div class="modal-overlay" id="distributeModal"><div class="modal-box"><div class="modal-title">ÂàÜÈÖçËá≥Â∑ûÂ∫ú</div><div class="city-dispatch-grid" id="distCityGrid"></div><div class="action-btns"><button class="btn btn-cancel" onclick="closeModal('distributeModal')">ÂèñÊ∂à</button><button class="btn btn-save-full" onclick="confirmDistribution()">Á¢∫Ë™çÂàÜÈÖç</button></div></div></div>
    <div class="modal-overlay" id="dataModal"><div class="modal-box"><div class="modal-title">Êï∏ÊìöÊìç‰Ωú</div><textarea id="data-area" class="text-input" style="height:200px; font-size:0.8rem; font-family:monospace;"></textarea><div class="action-btns"><button class="btn btn-cancel" onclick="copyData()">Ë§áË£Ω</button><button class="btn btn-save-full" onclick="importData()">Â∞éÂÖ•</button></div></div></div>

<script>
        const charDB = {
            "Ê≤àÂë®": { rank: "Â§©", talent: "Âú®[ÂïÜÊ•≠Âª∫ÁØâ]Â∑•‰ΩúÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[20%]ÈÄ≤Â∫¶Ôºå‰∏î[ÁÑ°ÈúÄ]Â∑•‰∫∫„ÄÇ", stats: { build: 241, farm: 433, make: 608, money: 778, adv: 612 }, }, 
            "È¶ÆÂ´Ω": { rank: "‰æØ", talent: "Â§ñÂá∫[Êé¢Èö™]ÊôÇÔºåÊé°ÈõÜÊ§çÁâ©È´îÂäõÊ∂àËÄó[-12%]Ôºå‰∏îÈ´îÂäõÊÅ¢Âæ©ÈÄüÂ∫¶Âä†Âø´[12%]„ÄÇ" }, 
            "Ë¢ÅÊæÑ": { rank: "‰æØ", talent: "Ë≤†Ë≤¨2Â∞èÊôÇ‰ª•‰∏ä[ÁêÜË≤°]Â∑•‰ΩúÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[3%]ÈÄ≤Â∫¶Ôºå‰∏¶Èö®Ê©üÁç≤Âæó[2Êú¨]Êõ∏Á±ç„ÄÇ" },
            "Â§èÂâ™Êò•": { rank: "‰æØ", talent: "[Êôö‰∏ä]Âú®[ÁîüÁî¢ÊàñÂïÜÊ•≠Âª∫ÁØâ]Â∑•‰ΩúÊôÇÔºåËçîÂç≥ÂÆåÊàê[5%]ÈÄ≤Â∫¶„ÄÇ" },
            "Ê∫´Â∫≠Á≠†": { rank: "‰æØ", talent: "[Êé¢Á¥¢Êñ∞ÂçÄÂüü]ÊôÇÔºåÈúÄË¶ÅÊú¨ÈáëÊ∏õÂ∞ë[5%]Ôºå‰ΩÜÊâÄÈúÄÂ∑•‰∫∫[+3]„ÄÇ" },
            "ÊñáÁ∞°": { rank: "‰æØ", talent: "Ë≤†Ë≤¨1Â∞èÊôÇ‰ª•‰∏ä[Ë£Ω‰Ωú]Â∑•‰ΩúÊôÇÔºåÊâÄÈúÄË≥áÊ∫êÊ∏õÂ∞ë[5%]Ôºå‰∏îÊâÄÈúÄÂ∑•‰∫∫[-1]„ÄÇ" },
            "Ê°ÉÊúµÂÖí": { rank: "‰æØ", talent: "ÂÖ•‰ΩèÁöÑÂüéÂ∏ÇÂ∞èÂãïÁâ©Âá∫ÁèæÊ¶ÇÁéáÊèêÂçá[5%]Ôºå‰∏¶ÊúÉÂú®[Á©∫Èñí]‰∏î[ÊäïÈ£üÊßΩÂçäÊªø]ÊôÇ‰∏ªÂãïÊ∏ÖÁêÜ„ÄÇ" }, 
            "ËòáËΩç": { rank: "‰æØ", talent: "Â§ñÂá∫[Êé¢Èö™]ÊôÇÔºåÊúÉÊúâÂ±ÖÊ∞ë‰∏ªÂãïÂπ´Âä©ÔºåÊØèÊ¨°Êé°ÈõÜÊ§çÁâ©Áç≤Âæó[2ÂÄç]Ë≥áÊ∫êÔºå‰ΩÜÊ∂àËÄó[1.8ÂÄç]È´îÂäõ„ÄÇ" }, 
            "Ëé´ÈÇ™": { rank: "‰æØ", talent: "Âú®[Á¢ºÈ†≠]Â∑•‰ΩúÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[10%]ÈÄ≤Â∫¶„ÄÇËàá[Âπ≤Â∞á]ÂÖ•‰ΩèÂêåÂüéÂ∏ÇÊôÇÔºåÈ°çÂ§ñÂÆåÊàê[10%]ÈÄ≤Â∫¶„ÄÇ" }, 
            "È´òËàû": { rank: "‰æØ", talent: "[Êé¢Á¥¢Êñ∞ÂçÄÂüü]ÊôÇÔºåËçîÂç≥ÂÆåÊàê[2%]ÈÄ≤Â∫¶Ôºå‰∏îÊâÄÈúÄÊú¨ÈáëÊ∏õÂ∞ë[2%]„ÄÇ" }, 
            "ÊùéÂÜ∂": { rank: "‰æØ", talent: "Â§ñÂá∫[Êé¢Èö™]ÊôÇÔºåÊé°ÈõÜÊ§çÁâ©È´îÂäõÊ∂àËÄó[-2]Ôºå‰∏î‰∏¶È°çÂ§ñÁç≤Âæó1ÂÄãÈö®Ê©üÁ§¶Áâ©„ÄÇ" }, 
            "Ëä±ÊôöÁÖß": { rank: "‰æØ", talent: "Â§ñÂá∫[Êé¢Èö™]ÊôÇÔºåÊé°ÈõÜÊ§çÁâ©È´îÂäõÊ∂àËÄó[-10%]Ôºå‰∏î‰∏¶È°çÂ§ñÁç≤Âæó1ÂÄãÈö®Ê©üËä±Âçâ„ÄÇ" }, 
            "ÁãÑ‰ªÅÂÇë": { rank: "Âçø", talent: "[Âª∫ÈÄ†ÊàñÂçáÁ¥öÂª∫ÁØâ]ÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[10%]ÈÄ≤Â∫¶„ÄÇ", }, 
            "Èô≥Èö®": { rank: "Âçø", talent: "Âú®[ÈÄ†Á¥ôÂª†„ÄÅÊ≤πÁ¥ôÂª†]Â∑•‰ΩúÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[12%]ÈÄ≤Â∫¶„ÄÇ", }, 
            "ÊùéÂ∏´Â∏´": { rank: "Âçø", talent: "Âú®[Áï´ÂÆ§]Â∑•‰ΩúÊôÇÔºåÈ°çÂ§ñÁç≤Âæó[25‰ªΩ]Â∏É", }, 
            "‰∏òÈòøËä•": { rank: "Âçø", talent: "ÂÖ•‰ΩèÂüéÂ∏ÇÂæåÔºåÊúÉÂú®[Á©∫Èñí]ÊôÇÂÆâËë¨Âéª‰∏ñÂ±ÖÊ∞ëÔºå‰∏îÊâÄÈúÄÈäÖÈå¢[-6%]„ÄÇ", }, 
            "ÂÖÉÂçúÊÑè": { rank: "Âçø", talent: "Â§ñÂá∫[Êé¢Èö™]ÊôÇÔºåÊé°ÈõÜ‰ªªÊÑèÁâ©È´îÂæåÔºåÈ°çÂ§ñÁç≤Âæó[25]ÈäÖÈå¢„ÄÇ", }, 
            "ËñõÁ¥†Á¥†": { rank: "Âçø", talent: "Âú®[Áπ°Âùä]Â∑•‰ΩúÊôÇÔºåÈ°çÂ§ñÁç≤Âæó[100ÈäÖÈå¢]„ÄÇ", }, 
            "Ëë£Â§´‰∫∫": { rank: "Âçø", talent: "Ë≤†Ë≤¨[Ë£Ω‰Ωú]Â∑•‰ΩúÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[15%]ÈÄ≤Â∫¶„ÄÇ", }, 
            "ËòáÂ∞èÂ¶π": { rank: "Âçø", talent: "Âú®[ÂïÜÊ•≠Âª∫ÁØâ]Â∑•‰ΩúÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[20%]ÈÄ≤Â∫¶Ôºå‰ΩÜÊâÄÈúÄÂ∑•‰∫∫[+1]„ÄÇ", }, 
            "ÊπØÈ°ØÁ•ñ": { rank: "Âçø", talent: "Âú®[ÂïÜÊ•≠Âª∫ÁØâ]Â∑•‰ΩúÊôÇÔºåÊâÄÈúÄÊú¨ÈáëÊ∏õÂ∞ë[60%]„ÄÇ", }, 
            "Ê≤àËê¨ÂçÉ": { rank: "Âçø", talent: "[Êé¢Á¥¢Êñ∞ÂçÄÂüü]ÊôÇÔºåÊâÄÈúÄÊú¨ÈáëÊ∏õÂ∞ë[10%]„ÄÇ", }, 
            "ÊùúÁî´": { rank: "Âçø", talent: "[ÂçáÁ¥öÂª∫ÁØâ]ÊôÇÔºåÊâÄÈúÄÈäÖÈå¢Ê∏õÂ∞ë[20%]„ÄÇ", }, 
            "È´òÂÑ™": { rank: "Â£´", talent: "Âú®[ÊäïÈ£üÊßΩ]Â∑•‰ΩúÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[50%]ÈÄ≤Â∫¶„ÄÇ", }, 
            "Ëê¨Êà∂": { rank: "Â£´", talent: "Â§ñÂá∫[Êé¢Èö™]ÊôÇÔºåÂª∫ÈÄ†„ÄÅ‰øÆÂæ©Áâ©È´îÁöÑÈ´îÂäõÊ∂àËÄó[-10]„ÄÇ", }, 
            "È¶¨ÊñáÊâç": { rank: "Â£´", talent: "Âú®[ÂïÜÊ•≠Âª∫ÁØâ]Â∑•‰ΩúÊôÇÔºåÈ°çÂ§ñÁç≤Âæó[9]ÈäÖÈå¢„ÄÇ", }, 
            "ÊüØÊúâÊ®µ": { rank: "Â£´", talent: "ÂÖ•‰ΩèÂüéÂ∏ÇÂæåÔºåÊúÉÂú®[Á©∫Èñí]ÊôÇÊ∏ÖÁêÜÂüé‰∏≠ÊûØÊûùÔºå‰∏¶È°çÂ§ñÁç≤Âæó[+6]Á∂ìÈ©óÊ§ç„ÄÇ", }, 
            "Âè≤Á´ãÊ∏Ö": { rank: "Â£´", talent: "ÂÖ•‰ΩèÂüéÂ∏ÇÂæåÔºåÊúÉÂú®[Á©∫Èñí]‰∏î[ÊäïÈ£üÊßΩÂçäÊªø]ÊôÇ‰∏ªÂãïÊ∏ÖÁêÜÔºå‰∏¶Á´ãÂç≥ÂÆåÊàê[30%]ÈÄ≤Â∫¶„ÄÇ", }, 
            "ËøÖÂ®ÉÂÖí": { rank: "Âçø", talent: "[Â§ñÂá∫Êé¢Èö™]ÊôÇÔºåÊé°ÈõÜÊ§çÁâ©ÁöÑÈ´îÂäõÊ∂àËÄó[-2]Ôºå‰∏¶È°çÂ§ñÁç≤Âæó[7]ÈäÖÈå¢„ÄÇ", }, 
            "Èß±ÂïèÊ©ü": { rank: "Âçø", talent: "ÂÖ•‰ΩèÂüéÂ∏Ç‰∏≠ÔºåÊâÄÊúâ[Ê∞ëÂÆÖ]ÈäÖÈå¢Áî¢ÈáèÂ¢ûÂä†[50%]„ÄÇ", }, 
            "ÂÆãÊáâÂçá": { rank: "Âçø", talent: "Âú®[ÈäÖÈè°Â∫ó]Â∑•‰ΩúÊôÇÔºåÈ°çÂ§ñÁç≤Âæó[60‰ªΩ]Êµ∑ÊúàÊÆº„ÄÇ", stats: { build: 87, farm: 246, make: 255, money: 607, adv: 437 }, }, 
            "È∫óÂ®ò": { rank: "Âçø", talent: "Âú®[ÁπîÂ∏ÉÂùä]Â∑•‰ΩúÊôÇÔºåÈúÄË¶ÅÊ£âËä±Ê∏õÂ∞ë[90%]„ÄÇ", stats: { build: 66, farm: 243, make: 620, money: 439, adv: 249 }, }, 
            "È¶ÆÂ§¢Èæç": { rank: "Âçø", talent: "[Âª∫ÈÄ†Â®õÊ®ÇÂª∫ÁØâ]ÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[15%]ÈÄ≤Â∫¶„ÄÇ", stats: { build: 225, farm: 64, make: 225, money:225, adv: 562 }, }, 
            "ËÅ∂Èö±Â®ò": { rank: "Âçø", talent: "Â§ñÂá∫[Êé¢Èö™]ÊôÇÔºåÂª∫ÈÄ†„ÄÅ‰øÆÂæ©Áâ©È´îÈ´îÂäõÊ∂àËÄóÊ∏õÂ∞ë[50%]„ÄÇ", stats: { build: 168, farm: 69, make: 81, money: 69, adv: 407 }, }, 
            "ÊñáÊº¢ÂÑí": { rank: "Âçø", talent: "Âú®[ÂïÜÊ•≠Âª∫ÁØâ]Â∑•‰ΩúÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê10%ÈÄ≤Â∫¶„ÄÇ", stats: { build: 242, farm: 63, make: 212, money: 431, adv: 63 }, }, 
            "ÊùúÁßãÂ®ò": { rank: "Âçø", talent: "Ë≤†Ë≤¨1Â∞èÊôÇ‰ª•‰∏ä[Ë£Ω‰Ωú]Â∑•‰ΩúÊôÇÔºåÈ°çÂ§ñÁç≤Âæó[30‰ªΩ]ËèúÈ§ö„ÄÇ", stats: { build: 259, farm: 259, make: 443, money: 67, adv: 67 }, }, 
            "Â∞èË†ª": { rank: "Âçø", talent: "Âú®[Á´πÊûó]Â∑•‰ΩúÊôÇÔºåÁ´πÂ≠êÁî¢ÈáèÊèêÂçá[30%]„ÄÇ", stats: { build: 445, farm: 621, make: 261, money: 98, adv: 91 }, }, 
            "Èô∂Âßú": { rank: "Âçø", talent: "Âú®[È¶ôÁ≤âÂª†]Â∑•‰ΩúÊôÇÔºåÈ°çÂ§ñÁç≤Âæó[10%]Ë≥áÊ∫ê„ÄÇ", stats: { build: 89, farm: 244, make: 440, money: 259, adv: 67 }, }, 
            "Áß¶Â≠êÊ£†": { rank: "Âçø", talent: "Ë≤†Ë≤¨1Â∞èÊôÇ‰ª•‰∏ä[ÁêÜË≤°]Â∑•‰ΩúÊôÇÔºåÈúÄË¶ÅÊú¨ÈáëÊ∏õÂ∞ë[50%]Ôºå‰∏îÈäÖÈå¢Êî∂ÂÖ•Â¢ûÂä†[15%]„ÄÇ", stats: { build: 244, farm: 67, make: 89, money: 431, adv: 96 }, }, 
            "Â§ßÂíåÊí´Â≠ê": { rank: "Âçø", talent: "Âú®[È≠öÂ°ò„ÄÅËüπÂ°ò]Â∑•‰ΩúÊôÇÔºåÈ°çÂ§ñÁç≤Âæó[30‰ªΩ]ËÇâÈ°û„ÄÇ", stats: { build: 247, farm: 618, make: 93, money: 241, adv: 428 }, }, 
            "ÊùéÈùíÊ∫™": { rank: "‰æØ", talent: "Âú®[Á´πÊûó]Â∑•‰ΩúÊôÇÔºåÈ°çÂ§ñÁç≤Âæó[30%]Ë≥áÊ∫êÔºå‰∏¶Á´ãÂç≥ÂÆåÊàê[5%]ÈÄ≤Â∫¶„ÄÇ", stats: { build: 246, farm: 603, make: 88, money: 430, adv: 95 }, }, 
            "Ëë£ÂÖ∂Êòå": { rank: "‰æØ", talent: "Ë≤†Ë≤¨[Ë£Ω‰Ωú]Â∑•‰ΩúÊôÇÔºåÈ°çÂ§ñÁç≤Âæó[90%]Ë≥áÊ∫ê„ÄÇ", stats: { build: 242, farm: 96, make: 792, money: 609, adv: 439 }, }, 
            "Ê≠¶ÂâáÂ§©": { rank: "Â§©", talent: "Ë≤†Ë≤¨[‰ªªÊÑèÂ∑•‰Ωú]ÔºåÁ´ãÂç≥ÂÆåÊàê[5%]ÈÄ≤Â∫¶Ôºå‰∏îÊâÄÈúÄÂ∑•‰∫∫[-1]„ÄÇ", stats: { build: 424, farm: 610, make: 793, money: 610, adv: 97 }, }, 
            "ÊùúË®ÄË°å": { rank: "‰æØ", talent: "Ë≤†Ë≤¨1Â∞èÊôÇ‰ª•‰∏ä[Ëæ≤Áâß]Â∑•‰ΩúÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[6%]ÈÄ≤Â∫¶Ôºå‰∏îÁâ©ÂìÅÊéâËêΩÁéáÊèêÂçá[30%]„ÄÇ", stats: { build: 65, farm: 602, make: 87, money: 417, adv: 245 }, }, 
            "ÊùúË®ÄÈÅä": { rank: "‰æØ", talent: "[Êé¢Á¥¢Êñ∞ÂçÄÂüü]ÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[10%]ÈÄ≤Â∫¶Ôºå‰∏îÊâÄÈúÄÂ∑•‰∫∫[-1]„ÄÇ", stats: { build: 64, farm: 416, make: 86, money: 238, adv: 606 }, }, 
            "ÂÖÉÊé°Ëóç": { rank: "‰æØ", talent: "Ë≤†Ë≤¨2Â∞èÊôÇ‰ª•‰∏ä[Ë£Ω‰Ωú]Â∑•‰ΩúÊôÇÔºåÈ°çÂ§ñÁç≤Âæó[2‰ªΩ]ÊüìÊñôÔºå‰∏îÊâÄÈúÄÂ∑•‰∫∫[-1]„ÄÇ", stats: { build: 425, farm: 84, make: 535, money: 214, adv: 83 }, }, 
            "ÊΩòÂÆâ": { rank: "‰æØ", talent: "Âª∫ÈÄ†[Êñ∞Âª∫ÁØâ]ÊôÇÔºåÁç≤Âæó[50‰ªΩ]Ëî¨Ëèú„ÄÇ", stats: { build: 602, farm: 417, make: 239, money: 245, adv: 607 }, }, 
            "Á´áÊúâÁ¶™": { rank: "‰æØ", talent: "Âú®[ÈªèÂúüÁ§¶„ÄÅËçâËó•Áî∞„ÄÅËå∂Âúí]Â∑•‰ΩúÊôÇÔºåÈ°çÂ§ñÁç≤Âæó[10‰ªΩ]Ëå∂ËëâÔºå‰∏îÊâÄÈúÄÂ∑•‰∫∫[-1]„ÄÇ", stats: { build: 65, farm: 602, make: 435, money: 239, adv: 417 }, }, 
            "Ë¢ÅÂèØÁ´ã": { rank: "‰æØ", talent: "Âú®[È≠öÂ°ò„ÄÅËüπÂ°ò]Â∑•‰ΩúÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[6%]ÈÄ≤Â∫¶„ÄÇ", stats: { build: 255, farm: 608, make: 430, money: 418, adv: 605 }, }, 
            "ÊÖïÂß£Âß£": { rank: "‰æØ", talent: "[Â§ñÂá∫Êé¢Èö™]ÊôÇÔºåÊé°ÈõÜÊâÄÊúâÁâ©È´îÁöÑÈ´îÂäõÊ∂àËÄó[-3]„ÄÇ", stats: { build: 22, farm: 108, make: 136, money: 50, adv: 347 }, }, 
            "Ê≠¶È≥¥Êúà": { rank: "‰æØ", talent: "Âú®[Èå¶Áπ°È£æÂùä]Â∑•‰ΩúÊôÇÔºåÈ¶ñÈ£æÁî¢ÈáèÂ¢ûÂä†[5%]„ÄÇ", stats: { build: 88, farm: 95, make: 786, money: 246, adv: 95 }, }, 
            "Êú®Â¢û": { rank: "‰æØ", talent: "[Âª∫ÈÄ†Êñ∞ÁîüÁî¢Âª∫ÁØâ]ÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[6%]ÈÄ≤Â∫¶„ÄÇ", stats: { build: 174, farm: 153, make: 103, money: 174, adv: 32 }, }, 
            "ÁáïÈòøÁ¥´": { rank: "‰æØ", talent: "ÂÖ•‰ΩèÂüéÂ∏ÇÂæåÔºåÊúÉÂú®[Á©∫Èñí]‰∏î[ÊäïÈ£üÊßΩÂçäÊªø]ÊôÇ‰∏ªÂãïÊ∏ÖÁêÜÔºå‰∏îË©≤ÂüéÂ∏ÇÂ∞èÂãïÁâ©Âá∫Ëµ∞Ê©üÁéáÊ∏õÂ∞ë[30%]„ÄÇ", stats: { build: 75, farm: 492, make: 416, money: 58, adv: 416 }, }, 
            "ÂÆãÊ≤âÂêü": { rank: "‰æØ", talent: "Âú®[ÂïÜÊ•≠Âª∫ÁØâ]‰∏≠Ë≤†Ë≤¨2Â∞èÊôÇ‰ª•‰∏äÂ∑•‰ΩúÊôÇÔºåÈ°çÂ§ñÁç≤Âæó[8‰ªΩ]ÈÖíÊõ≤„ÄÇ", stats: { build: 245, farm: 429, make: 417, money: 602, adv: 87 }, }, 
            "ÂºµËàüÂ∏´": { rank: "‰æØ", talent: "[Âª∫ÈÄ†ÊàñÂçáÁ¥öÊ∞¥‰∏äÂª∫ÁØâÊàñËàπÈöª]ÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[15%]ÈÄ≤Â∫¶„ÄÇ", stats: { build: 603, farm: 428, make: 244, money: 64, adv: 434 }, }, 
            "ÈòøÊúµ": { rank: "‰æØ", talent: "Â§ñÂá∫[Êé¢Èö™]ÊôÇÔºåÊé°ÈõÜÊ§çÁâ©ÁöÑÈ´îÂäõÊ∂àËÄó[-7]„ÄÇ", stats: { build: 69, farm: 106, make: 407, money: 91, adv: 150 }, }, 
            "ÊùúÁâß": { rank: "‰æØ", talent: "Âª∫ÈÄ†[Â®õÊ®ÇÂª∫ÁØâ]ÊôÇÔºåÊâÄÈúÄË≥áÊ∫êÊ∂àËÄóÊ∏õÂ∞ë[10%]„ÄÇ", stats: { build: 510, farm: 340, make: 77, money: 490, adv: 197 }, }, 
            "ÊûóË°õÊú®": { rank: "‰æØ", talent: "Âú®[ÊûóÂ†¥„ÄÅÁ´πÊûó„ÄÅÊ°êÊ≤πÂª†„ÄÅÊºÜÊ®πÊûó]Â∑•‰ΩúÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[8%]ÈÄ≤Â∫¶„ÄÇ", stats: { build: 324, farm: 454, make: 228, money: 78, adv: 296 }, }, 
            "Ê¢ÅÂ±±‰ºØ": { rank: "‰æØ", talent: "Â§ñÂá∫[Êé¢Èö™]ÊôÇÔºåÊé°ÈõÜ‰ªªÊÑèÁâ©È´îÔºåÂèØÁç≤ÂæóÁ≠âÂêåÊñºÈ´îÂäõ[20%]ÈäÖÈå¢Êî∂ÂÖ•„ÄÇ", stats: { build: 235, farm: 166, make: 356, money: 104, adv: 235 }, }, 
            "ÁõõÁæΩÊûó": { rank: "‰æØ", talent: "Ë≤†Ë≤¨1Â∞èÊôÇ‰ª•‰∏ä[Âª∫ÈÄ†]Â∑•‰ΩúÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[10%]ÈÄ≤Â∫¶ÔºåÊâÄÈúÄËèúÈ§öÊ∏õÂ∞ë[8%]„ÄÇ", stats: { build: 244, farm: 68, make: 198, money: 47, adv: 172 }, }, 
            "Âß¨Ëçî": { rank: "‰æØ", talent: "Âú®[È§äÈ¥®Â†¥„ÄÅÈ§äË±¨Â†¥„ÄÅÁæäÂúà]Â∑•‰ΩúÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[5%]ÈÄ≤Â∫¶„ÄÇ", stats: { build: 360, farm: 244, make: 68, money: 131, adv: 360 }, }, 
            "ÂäâÁéâË¨π": { rank: "‰æØ", talent: "Âú®[ÁéâÂô®Â∑•Âùä]Â∑•‰ΩúÊôÇÔºåÊâÄÈúÄÁéâÁü≥Ê∏õÂ∞ë[10%]Ôºå‰∏¶Á´ãÂç≥ÂÆåÊàê5%ÈÄ≤Â∫¶„ÄÇ", stats: { build: 65, farm: 245, make: 607, money: 239, adv: 417 }, }, 
            "ÂæêÈúûÂÆ¢": { rank: "‰æØ", talent: "[Êé¢Á¥¢Êñ∞ÂçÄÂüü]ÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[20%]ÈÄ≤Â∫¶„ÄÇ", stats: { build: 242, farm: 84, make: 604, money: 236, adv: 770 }, }, 
            "ÊôÇÈóñ": { rank: "‰æØ", talent: "Â§ñÂá∫[Êé¢Èö™]ÊôÇÔºåÂª∫ÈÄ†„ÄÅ‰øÆÂæ©Áâ©È´îÈ´îÂäõÊ∂àËÄóÊ∏õÂ∞ë[15%]Ôºå‰∏îÈ´îÂäõÊÅ¢Âæ©ÈÄüÂ∫¶Âä†Âø´[15%]„ÄÇ", stats: { build: 411, farm: 70, make: 79, money: 175, adv: 426 }, }, 
            "ÁãÑÈùí": { rank: "‰æØ", talent: "Âú®[Êôö‰∏ä]Â∑•‰ΩúÊôÇÔºåËæ≤ÁâßÂ±¨ÊÄßËÆäÁÇ∫[1.2ÂÄç]„ÄÇ", stats: { build: 218, farm: 218, make: 133, money: 382, adv: 248 }, }, 
            "Èõ≤Êô¥Èõ™": { rank: "‰æØ", talent: "[Âª∫ÈÄ†ÊàñÂçáÁ¥ö]1Â∞èÊôÇ‰ª•‰∏äÂª∫ÁØâÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[8%]ÈÄ≤Â∫¶Ôºå‰∏îÊâÄÈúÄÂ∑•‰∫∫[-1]„ÄÇ", stats: { build: 602, farm: 254, make: 87, money: 429, adv: 417 }, }, 
            "Êõπ‰∫¶": { rank: "‰æØ", talent: "Âú®[ÊèöÂ∑ûÊºïÈÅã]Â∑•‰ΩúÊôÇÔºåÈäÖÈå¢Êî∂ÂÖ•Â¢ûÂä†[10%]Ôºå‰∏¶È°çÂ§ñÁç≤Âæó[1]ÂºµÈÄ£Á•®„ÄÇ", stats: { build: 254, farm: 87, make: 65, money: 429, adv: 604 }, }, 
            "Ëò≠ÈôµÁ¨ëÁ¨ëÁîü": { rank: "‰æØ", talent: "Âú®[Êõ∏Â±Ä]Â∑•‰ΩúÊôÇÔºå‰∏çÈúÄËä±Ë≤ªÈäÖÈå¢ÔºåÂèçËÄåÁç≤Âæó[150%]ÈäÖÈå¢Êî∂ÂÖ•„ÄÇ", stats: { build: 51, farm: 257, make: 161, money: 356, adv: 51 }, }, 
            "ÈÉ≠Â§©Âïè": { rank: "‰æØ", talent: "Ë≤†Ë≤¨[ÊòüÂÆøÈóúÂç°‰ªªÊÑèÂ∑•‰Ωú]ÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[8%]ÈÄ≤Â∫¶„ÄÇ", stats: { build: 454, farm: 425, make: 69, money: 56, adv: 174 }, }, 
            "ÂçÉÊöÆÈõ™": { rank: "‰æØ", talent: "Ë≤†Ë≤¨2Â∞èÊôÇ‰ª•‰∏ä[Ë£Ω‰Ωú]Â∑•‰ΩúÊôÇÔºåÊØèÊúâ‰∏Ä‰ΩçÂ•≥ÊÄßÂ∑•‰∫∫ÔºåÂèØÈ°çÂ§ñÁç≤Âæó[1ÂÄã]ÂÖµÂô®", stats: { build: 64, farm: 253, make: 603, money: 428, adv: 416 }, }, 
            "ÂßúÂ£Ω": { rank: "‰æØ", talent: "Âú®[Â£ΩÊùêÂ∫ó]Â∑•‰ΩúÊôÇÔºåÈäÖÈå¢Êî∂ÂÖ•ÊèêÂçá[50%]Ôºå‰∏¶Èö®Ê©üÁç≤Âæó[5‰ªΩ]Ë≥áÊ∫ê„ÄÇ", stats: { build: 434, farm: 93, make: 238, money: 601, adv: 238 }, }, 
            "ËòáÊ≠¶": { rank: "‰æØ", talent: "Ë≤†Ë≤¨[Ëæ≤Áâß]Â∑•‰ΩúÊôÇÔºåÈ°çÂ§ñÁç≤Âæó[20‰ªΩ]Ëî¨Ëèú„ÄÇ", stats: { build: 239, farm: 607, make: 245, money: 94, adv: 607 }, }, 
            "Êú±ÂÖÉÁíã": { rank: "‰æØ", talent: "Ë≤†Ë≤¨[Ëæ≤Áâß]Â∑•‰ΩúÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[5%]ÈÄ≤Â∫¶„ÄÇ", stats: { build: 606, farm: 784, make: 238, money: 93, adv: 244 }, }, 
            "Âà©Áë™Á´á": { rank: "‰æØ", talent: "Âú®[Êõ∏Â±Ä]Â∑•‰ΩúÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[5%]ÈÄ≤Â∫¶„ÄÇ", stats: { build: 73, farm: 181, make: 267, money: 416, adv: 267 }, }, 
            "Â∑¶ÊÄù": { rank: "‰æØ", talent: "Âú®[ÈÄ†Á¥ôÂª†]Â∑•‰ΩúÊôÇÔºåÁî¢ÈáèÊèêÂçá[10%]Ôºå‰∏îÊâÄÈúÄÂ∑•‰∫∫[-1]„ÄÇ", stats: { build: 434, farm: 238, make: 772, money: 244, adv: 244 }, }, 
            "ÈÑ≠Âíå": { rank: "‰æØ", talent: "Âú®[Á¢ºÈ†≠]Ë≤†Ë≤¨ËàπÈÅãÂ∑•‰ΩúÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[5%]ÈÄ≤Â∫¶ÔºåÊé¢Èö™È´îÂäõÊÅ¢Âæ©ÈÄüÂ∫¶Âä†Âø´[15%]„ÄÇ", stats: { build: 604, farm: 241, make: 241, money: 247, adv: 604 }, }, 
            "ÂßöÂª£Â≠ù": { rank: "‰æØ", talent: "Ë≤†Ë≤¨2Â∞èÊôÇ‰ª•‰∏ä[Ë£Ω‰Ωú]Â∑•‰ΩúÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[10%]ÈÄ≤Â∫¶„ÄÇ", stats: { build: 605, farm: 240, make: 605, money: 418, adv: 95 }, }, 
            "Ëä±ÂÆúËä≥": { rank: "‰æØ", talent: "Âú®[Ë£ÅÁ∏´Èã™„ÄÅÂ≠êË°øË°£Èñ£]Â∑•‰ΩúÊôÇÔºåÈ°çÂ§ñÁç≤Âæó[5%]Ë≥áÊ∫êÁî¢ÂìÅÔºå‰∏îÊâÄÈúÄÂ∑•‰∫∫[-1]„ÄÇ", stats: { build: 238, farm: 428, make: 603, money: 416, adv: 86 }, }, 
            "Áß¶ËâØÁéâ": { rank: "‰æØ", talent: "Âú®[ÈªèÂúüÁ§¶]Â∑•‰ΩúÊôÇÔºåÈ°çÂ§ñÁç≤Âæó[20‰ªΩ]ÈªèÂúü„ÄÇ", stats: { build: 65, farm: 429, make: 602, money: 607, adv: 435 }, }, 
            "ÈÇ±‰ª≤": { rank: "‰æØ", talent: "Ë≤†Ë≤¨[Âª∫ÈÄ†ÊàñÂçáÁ¥ö]Âª∫ÁØâÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[20%]ÈÄ≤Â∫¶Ôºå‰ΩÜÊâÄÈúÄËèúÈ§öËä±Ë≤ªÂ¢ûÂä†[5%]„ÄÇ", stats: { build: 604, farm: 239, make: 65, money: 94, adv: 429 }, }, 
            "ËóçÁéâ": { rank: "‰æØ", talent: "Èô§È©õÁ´ôÊé¢Èö™Â§ñÔºåÂú®[Êôö‰∏ä]Â∑•‰ΩúÊôÇÔºåÊé¢Èö™Â±¨ÊÄßËÆäÁÇ∫[1.2]ÂÄç„ÄÇ", stats: { build: 434, farm: 253, make: 64, money: 64, adv: 601 }, }, 
            "Áß¶ÊåΩÈåö": { rank: "Â§©", talent: "Âú®[ÂÆÖÈÇ∏]Ë≤†Ë≤¨[ÊâìÈÄ†Êñ∞Ë£ùÈ£æÂÇ¢‰ø±]ÊôÇÔºåÈô§ÂÇ¢‰ø±ÂúñÁ¥ôÂ§ñÔºåÊâÄÈúÄÂÆÖÈÇ∏ÊùêÊñôÈö®Ê©üÊ∏õÂ∞ë[2-6]„ÄÇ", stats: { build: 795, farm: 257, make: 434, money: 609, adv: 613 }, }, 
            "Ë∂ôÊòéË™†": { rank: "‰æØ", talent: "Ë≤†Ë≤¨[Âª∫ÈÄ†Êñ∞Âª∫ÁØâ]ÊôÇÔºåÊ∏õÂ∞ëÈäÖÈå¢Ëä±Ë≤ª[10%]„ÄÇ", stats: { build: 340, farm: 238, make: 143, money: 59, adv: 167 }, }, 
            "ÊûóÂ•¥ÂÖí": { rank: "‰æØ", talent: "Âú®[ÊºÅÂÖ∑Â∫ó]Â∑•‰ΩúÊôÇÔºåÈäÖÈå¢Êî∂ÂÖ•ÊèêÂçá[50%]„ÄÇ", stats: { build: 148, farm: 148, make: 248, money: 549, adv: 60 }, }, 
            "ÊàöÁπºÂÖâ": { rank: "Â§©", talent: "Ë≤†Ë≤¨[ÂÄâÂüé‰ΩàÈò≤]‰ªªÊÑèÂ∑•‰ΩúÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[10%]ÈÄ≤Â∫¶Ôºå‰∏î[ÁÑ°ÈúÄ]È°çÂ§ñÂ∑•‰∫∫„ÄÇ", stats: { build: 614, farm: 610, make: 424, money: 435, adv: 780 }, },
            "ÊùéÂïÜÈö±": { rank: "Â§©", talent: "Ë≤†Ë≤¨2Â∞èÊôÇ‰ª•‰∏ä[ÁêÜË≤°]Â∑•‰ΩúÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[20%]ÈÄ≤Â∫¶Ôºå‰∏¶Èö®Ê©üÁç≤Âæó[30‰ªΩ]Ë≥áÊ∫ê„ÄÇ", stats: { build: 88, farm: 612, make: 438, money: 778, adv: 422 }, },
            "ÁôæÈáåÂÆâ": { rank: "Â§©", talent: "Âú®[ÂïÜÊ•≠Âª∫ÁØâ]‰∏≠Ë≤†Ë≤¨2Â∞èÊôÇ‰ª•‰∏äÂ∑•‰ΩúÊôÇÔºåÈ°çÂ§ñÁç≤Âæó[20‰ªΩ]Áì∑Âô®„ÄÅÁéâÂô®ÊàñË∂äÁì∑„ÄÇ", stats: { build: 246, farm: 437, make: 777, money: 790, adv: 240 }, },
            "ËÉ°ÊúàÁúâ": { rank: "Â§©", talent: "Âú®[Âç∞Âà∑Âª†]Â∑•‰ΩúÊôÇÔºåÊâÄÈúÄÈõïÁâàÊ∏õÂ∞ë[20%]Ôºå‰∏îÊâÄÈúÄÂ∑•‰∫∫[-1]„ÄÇ", stats: { build: 256, farm: 88, make: 778, money: 612, adv: 422 }, }, 
            "ÊùéÊôÇÁèç": { rank: "Â§©", talent: "Ë≤†Ë≤¨[Ëæ≤Áâß]Â∑•‰ΩúÊôÇÔºåÈ°çÂ§ñÁç≤Âæó[100%]Ë≥áÊ∫êÔºå‰∏îÊâÄÈúÄÂ∑•‰∫∫[-1]„ÄÇ", stats: { build: 250, farm: 797, make: 91, money: 436, adv: 781 }, }, 
            "ÁôæÈáåÊ≤âÈ¶ô": { rank: "Â§©", talent: "Âú®[È¶ôÁ≤âÂª†]Â∑•‰ΩúÊôÇÔºåÊâÄÈúÄËä±Áì£Ê∏õÂ∞ë[20%]Ôºå‰∏îÊâÄÈúÄÂ∑•‰∫∫[-1]„ÄÇ", stats: { build: 66, farm: 778, make: 794, money: 241, adv: 88 }, },
            "È¶¨Ëì¨ÁÄõ": { rank: "Â§©", talent: "Ë≤†Ë≤¨[Ëæ≤Áâß]Â∑•‰ΩúÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[20%]ÈÄ≤Â∫¶Ôºå‰∏îÊâÄÈúÄÂ∑•‰∫∫[-1]„ÄÇ", stats: { build: 433, farm: 794, make: 241, money: 247, adv: 95 }, },
            "Êü≥Ê∞∏": { rank: "Â§©", talent: "[Âª∫ÈÄ†Â®õÊ®ÇÂª∫ÁØâ]ÊôÇÔºåÊâÄÈúÄË≥áÊ∫êÊ∂àËÄóÊ∏õÂ∞ë[10%]Ôºå‰∏îÊâÄÈúÄÂ∑•‰∫∫[-1]„ÄÇ", stats: { build: 794, farm: 88, make: 438, money: 247, adv: 608 }, },
            "È¶¨ÈÅ†ÈÅì": { rank: "Â§©", talent: "Âú®[Á¢ºÈ†≠]Ë≤†Ë≤¨ËàπÈÅãÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[15%]ÈÄ≤Â∫¶Ôºå‰∏îÈÅãËº∏Âª∫ÁØâÊâÄÈúÄËèúÈ§öÊ∏õÂ∞ë[30%]„ÄÇ", stats: { build: 422, farm: 612, make: 247, money: 608, adv: 794 }, },
            "ÂæêÂ¶ôÈõ≤": { rank: "Â§©", talent: "Ë≤†Ë≤¨[‰ªªÊÑèÂ∑•‰Ωú]ÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[5%]ÈÄ≤Â∫¶Ôºå‰∏îËàáÊú±Ê££ÂÖ•‰ΩèÂêåÂüéÂ∏ÇÊôÇÔºåÈõôÊñπË≤†Ë≤¨Â∑•‰ΩúÊôÇÁöÑÂ±¨ÊÄßËÆäÁÇ∫[1.1ÂÄç]„ÄÇ", stats: { build: 607, farm: 777, make: 432, money: 611, adv: 255 }, },
            "Êù±ÊñπÁ•ö": { rank: "Â§©", talent: "Â§ñÂá∫[Êé¢Èö™]ÊôÇÔºåÊé°ÈõÜÁ§¶Áü≥È´îÂäõÊ∂àËÄó[-50%]Ôºå‰∏¶È°çÂ§ñÁç≤Âæó1ÂÄãÈö®Ê©üÁ§¶Áâ©„ÄÇ", stats: { build: 247, farm: 256, make: 608, money: 88, adv: 791 }, },
            "È°ßÂ∞è‰πù": { rank: "Â§©", talent: "Ë≤†Ë≤¨2Â∞èÊôÇ‰ª•‰∏ä[Ë£Ω‰Ωú]Â∑•‰ΩúÊôÇÔºåÈ°çÂ§ñÁç≤Âæó[2ÂÄã]ÂÆÖÈÇ∏ÂÇ¢‰ø±ÊùêÊñôÔºå‰∏îÊâÄÈúÄÂ∑•‰∫∫[-2]„ÄÇ", stats: { build: 608, farm: 256, make: 794, money: 438, adv: 612 }, },
            "ÁõßÁíÄ": { rank: "Â§©", talent: "Ë≤†Ë≤¨1Â∞èÊôÇ‰ª•‰∏ä[Ëæ≤Áâß]Â∑•‰ΩúÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[10%]ÈÄ≤Â∫¶Ôºå‰∏¶Èö®Ê©üÁç≤Âæó[20‰ªΩ]Ë≥áÊ∫ê„ÄÇ", stats: { build: 609, farm: 795, make: 439, money: 257, adv: 242 }, },
            "ÁéãÁ¶é": { rank: "Â§©", talent: "Ë≤†Ë≤¨[Ëæ≤Áâß]Â∑•‰ΩúÊôÇÔºåÊØèÊúâ‰∏ÄÂÄãÂ∑•‰∫∫ÔºåÈ°çÂ§ñÁç≤Âæó[10%]Ë≥áÊ∫ê„ÄÇ", stats: { build: 434, farm: 779, make: 609, money: 257, adv: 89 }, }, 
            "Âê≥Èªé": { rank: "‰æØ", talent: "[ÂçáÁ¥öÂª∫ÁØâ]ÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[20%]ÈÄ≤Â∫¶„ÄÇ", stats: { build: 601, farm: 253, make: 603, money: 93, adv: 86 }, }, 
            "ÈáëËÅñÂòÜ": { rank: "‰æØ", talent: "Âú®[Êôö‰∏ä]Â∑•‰ΩúÊôÇÔºåÂª∫ÈÄ†Â±¨ÊÄßËÆäÁÇ∫[1.2ÂÄç]„ÄÇ", stats: { build: 575, farm: 337, make: 57, money: 57, adv: 204 }, }, 
            "Ë¨ùÈÅìÈüû": { rank: "‰æØ", talent: "Ë≤†Ë≤¨1Â∞èÊôÇ‰ª•‰∏ä[Ë£Ω‰Ωú]Â∑•‰ΩúÊôÇÔºåÊâÄÈúÄË≥áÊ∫êÊ∂àËÄóÊ∏õÂ∞ë[5%]„ÄÇ", stats: { build: 428, farm: 253, make: 603, money: 64, adv: 244 }, }, 
            "Âê≥ÊâøÊÅ©": { rank: "Â§©", talent: "Ë≤†Ë≤¨2Â∞èÊôÇ‰ª•‰∏ä[Ë£Ω‰Ωú]Â∑•‰ΩúÊôÇÔºåÈö®Ê©üÁç≤Âæó[50]‰ªΩË≥áÊ∫êÔºå‰∏îÊâÄÈúÄÂ∑•‰∫∫[-1]„ÄÇ", stats: { build: 65, farm: 437, make: 793, money: 65, adv: 790 }, }, 
            "Ëê¨ÂçÉÂ±±": { rank: "Â§©", talent: "Ë≤†Ë≤¨[Âª∫ÈÄ†]Â∑•‰ΩúÊôÇÔºåÊØèÊúâ‰∏ÄÂÄãÁî∑ÊÄßÂ∑•‰∫∫ÔºåÁ´ãÂç≥ÂÆåÊàê[2%]ÈÄ≤Â∫¶„ÄÇ", stats: { build: 791, farm: 256, make: 438, money: 256, adv: 608 }, }, 
            "ÁéãÊò≠Âêõ": { rank: "Â§©", talent: "Â§ñÂá∫[Êé¢Èö™]ÊôÇÔºåÂè™Ê∂àËÄó[0.6‰ªΩ]Á≥ßËçâ„ÄÇ", stats: { build: 97, farm: 243, make: 793, money: 243, adv: 793 }, }, 
            "ÂêëÊñúÈôΩ": { rank: "Â§©", talent: "Ë≤†Ë≤¨1Â∞èÊôÇ‰ª•‰∏ä[Ë£Ω‰Ωú]ÊôÇÔºåÊúâ[8%]Ê©üÁéáÁ´ãÂç≥ÂÆåÊàêÔºå‰∏îÊâÄÈúÄÂ∑•‰∫∫[-1]„ÄÇ", stats: { build: 247, farm: 608, make: 778, money: 433, adv: 66 }, }, 
            "ÁéÑÂ•ò": { rank: "Â§©", talent: "Ë≤†Ë≤¨[‰ªªÊÑèÂ∑•‰Ωú]ÊôÇÔºåËèúÈ§öÈúÄÊ±Ç[-30%]ÔºåÈ©ÖÈÄêÈ¨ºÊÄ™ÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[15%]ÈÄ≤Â∫¶„ÄÇ", stats: { build: 614, farm: 780, make: 424, money: 243, adv: 796 }, }, 
            "ÂæêÁ¶éÂçø": { rank: "Â§©", talent: "Âú®[ÂïÜÊ•≠Âª∫ÁØâ]‰∏≠Ë≤†Ë≤¨3Â∞èÊôÇ‰ª•‰∏äÂ∑•‰ΩúÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[30%]ÈÄ≤Â∫¶Ôºå‰∏îÊâÄÈúÄÂ∑•‰∫∫[-2]„ÄÇ", stats: { build: 780, farm: 440, make: 243, money: 793, adv: 97 }, }, 
            "Êü≥Êò•È∂Ø": { rank: "‰æØ", talent: "Â§ñÂá∫[Êé¢Èö™]ÊôÇÔºåÊé°ÈõÜÊ§çÁâ©È´îÂäõÊ∂àËÄóÊ∏õÂ∞ë[20%]„ÄÇ", stats: { build: 83, farm: 226, make: 377, money: 423, adv: 514 }, }, 
            "ÈçæÈ¶ó": { rank: "‰æØ", talent: "Âú®[Êôö‰∏ä]Â∑•‰ΩúÊôÇÔºåË£Ω‰ΩúÂ±¨ÊÄßËÆäÁÇ∫[1.2ÂÄç]ÔºåÈ©ÖÈÄêÈ¨ºÊÄ™ÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[5%]ÈÄ≤Â∫¶„ÄÇ", stats: { build: 431, farm: 604, make: 606, money: 241, adv: 419 }, }, 
            "Ê•äÂ´ø": { rank: "Â§©", talent: "Ë≤†Ë≤¨2Â∞èÊôÇ‰ª•‰∏ä[Ëæ≤Áâß]Â∑•‰ΩúÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[10%]ÈÄ≤Â∫¶Ôºå‰∏¶È°çÂ§ñÁç≤Âæó[100%]Ë≥áÊ∫ê„ÄÇ", stats: { build: 247, farm: 778, make: 433, money: 612, adv: 608 }, }, 
            "ÂºµÂ±±Ê≠∏": { rank: "Â§©", talent: "Êé¢Á¥¢[Êñ∞ÂçÄÂüü]ÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[15%]ÈÄ≤Â∫¶Ôºå‰∏îÈô§ÈäÖÈå¢Â§ñÁöÑÂÖ∂‰ªñË≥áÊ∫êÂèäÈÅìÂÖ∑Ê∂àËÄóÊ∏õÂ∞ë[10%]„ÄÇ", stats: { build: 434, farm: 613, make: 609, money: 248, adv: 779 }, }, 
            "Â•¢È¶ô": { rank: "Â§©", talent: "[Âª∫ÈÄ†Êñ∞ÂïÜÊ•≠Âª∫ÁØâ]ÊôÇÔºåÈö®Ê©üÁç≤Âæó[30]‰ªΩË≥áÊ∫êÔºå‰∏îÊâÄÈúÄÂ∑•‰∫∫[-1]„ÄÇ", stats: { build: 790, farm: 777, make: 246, money: 94, adv: 607 }, }, 
            "ËòáËªæ": { rank: "Â§©", talent: "Ë≤†Ë≤¨[Ë£Ω‰Ωú]Â∑•‰ΩúÊôÇÔºåËÇâÈ°ûÈúÄÊ±Ç[-50%]Ôºå‰∏îÊâÄÈúÄÂ∑•‰∫∫[-2]„ÄÇ", stats: { build: 249, farm: 67, make: 783, money: 797, adv: 612 }, }, 
            "Ê≤àÊã¨": { rank: "Â§©", talent: "Ë≤†Ë≤¨[Ëæ≤Áâß]Â∑•‰ΩúÊôÇÔºåÈ°çÂ§ñÁç≤Âæó[100%]Ë≥áÊ∫êÔºå‰ΩÜÊâÄÈúÄÂ∑•‰∫∫[+1]„ÄÇ", stats: { build: 431, farm: 792, make: 776, money: 93, adv: 93 }, }, 
            "‰∏äÂÆòÂ©âÂÖí": { rank: "Â§©", talent: "Âú®[Êõ∏Â±Ä]Êàñ[Âç∞Âà∑Âª†]Â∑•‰ΩúÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[15%]ÈÄ≤Â∫¶Ôºå‰∏¶È°çÂ§ñÁç≤Âæó[40%]Ë≥áÊ∫êÊàñÈÅìÂÖ∑„ÄÇ", stats: { build: 437, farm: 240, make: 607, money: 777, adv: 421 }, }, 
            "Ê≤àÂ∫¶": { rank: "Â§©", talent: "Ë≤†Ë≤¨[Ë£Ω‰Ωú]Â∑•‰ΩúÊôÇÔºåÊúâ[5%]Ê©üÁéáÁ´ãÂç≥ÂÆåÊàê„ÄÅ‰∏îÊâÄÈúÄÂ∑•‰∫∫[-2]„ÄÇ", stats: { build: 243, farm: 68, make: 796, money: 780, adv: 90 }, }, 
            "‰ªáËã±": { rank: "Â§©", talent: "Ë≤†Ë≤¨[Ë£Ω‰Ωú]„ÄÅ[Ëæ≤Áâß]Â∑•‰ΩúÊôÇÔºåÂ¶ÇÂ∑•‰∫∫Á∏ΩÊï∏ÁÇ∫ÈõôÊï∏ÔºåÂâáÈ°çÂ§ñÁç≤Âæó[150%]Ë≥áÊ∫ê„ÄÇ", stats: { build: 437, farm: 87, make: 793, money: 607, adv: 421 }, }, 
            "Âñ¨Ê∫™Âçà": { rank: "Â§©", talent: "Âú®Áî®Ê≤ôÂ†°ÁöÑÊäµÁ¶¶ÊÄ™Áâ©‰∏≠Ë≤†Ë≤¨‰ªªÊÑèÂ∑•‰ΩúÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[25%]ÈÄ≤Â∫¶„ÄÇ", stats: { build: 607, farm: 255, make: 607, money: 432, adv: 793 }, }, 
            "Â±àÂéü": { rank: "Â§©", talent: "Ë≤†Ë≤¨1Â∞èÊôÇ‰ª•‰∏ä[Ëæ≤Áâß]Â∑•‰ΩúÊôÇÔºåÈ°çÂ§ñÁç≤Âæó[80‰ªΩ]ËèúÈ§öÔºå‰∏îÊâÄÈúÄÂ∑•‰∫∫[-1]„ÄÇ", stats: { build: 610, farm: 780, make: 614, money: 90, adv: 435 }, }, 
            "Â≠üÈ§ò": { rank: "Â§©", talent: "Ë≤†Ë≤¨[Ë£Ω‰Ωú]Â∑•‰ΩúÊôÇÔºå‰∏çÊ∂àËÄóËèúÈ§öÔºåÂèçËÄåÁç≤Âæó[100%]ËèúÈ§öÔºå‰∏îÊâÄÈúÄÂ∑•‰∫∫[-2]„ÄÇ", stats: { build: 96, farm: 434, make: 779, money: 613, adv: 257 }, }, 
            "È∫•Â∞èÊªø": { rank: "Â§©", talent: "Ë≤†Ë≤¨[ÊèöÂ∑ûÊºïÈÅã]‰ªªÊÑèÂ∑•‰ΩúÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[10%]ÈÄ≤Â∫¶Ôºå‰∏îÊâÄÈúÄÂ∑•‰∫∫[-1]„ÄÇ", stats: { build: 257, farm: 439, make: 257, money: 609, adv: 779 }, }, 
            "Â≠üÂ•ΩÂ≠∏": { rank: "Â§©", talent: "[Âª∫ÈÄ†ÊàñÂçáÁ¥öÂª∫ÁØâ]ÊôÇÔºåÈô§ËèúÈ§öÂ§ñÂÖ∂‰ªñÊâÄÊúâË≥áÊ∫êËä±Ë≤ªÊ∏õÂ∞ë[10%]Ôºå‰∏îÊâÄÈúÄÂ∑•‰∫∫[-1]„ÄÇ", stats: { build: 795, farm: 67, make: 792, money: 248, adv: 67 }, }, 
            "Êü≥Á¨ëÁøÅ": { rank: "Â§©", talent: "Âú®[ÂïÜÊ•≠Âª∫ÁØâ]Â∑•‰ΩúÊôÇÔºåÊúâ[5%]Ê©üÁéáÁ´ãÂç≥ÂÆåÊàêÔºå‰∏îÊâÄÈúÄÊú¨ÈáëÊ∏õÂ∞ë[30%]„ÄÇ", stats: { build: 257, farm: 609, make: 439, money: 779, adv: 613 }, }, 
            "ÁæÖÁ¥†Êúà": { rank: "Â§©", talent: "Âú®[ÁÖâ‰∏πÁàê]Â∑•‰ΩúÊôÇÔºåÊâÄÈúÄËçâËó•Ê∏õÂ∞ë[30%]„ÄÅÊâÄÈúÄÂ∑•‰∫∫[-1]„ÄÇ", stats: { build: 423, farm: 609, make: 792, money: 439, adv: 434 }, }, 
            "ÊùéÊ∏ÖÁÖß": { rank: "Â§©", talent: "Âú®[ÂïÜÊ•≠Âª∫ÁØâ]‰∏≠Â∑•‰ΩúÊôÇÔºåÈäÖÈå¢Êî∂ÂÖ•ÊèêÂçá[50%]„ÄÅÊâÄÈúÄÂ∑•‰∫∫[-1]„ÄÇ", stats: { build: 440, farm: 610, make: 424, money: 796, adv: 243 }, }, 
            "ÊùéÁÖú": { rank: "Â§©", talent: "Âú®ÂüéÂ∏Ç‰∏≠Ë≤†Ë≤¨1Â∞èÊôÇ‰ª•‰∏ä[Ë£Ω‰Ωú]Â∑•‰ΩúÊôÇÔºåÈ°çÂ§ñÁç≤Âæó[80%]Ë≥áÊ∫ê„ÄÅÈö®Ê©üÁç≤Âæó[3Êú¨]Êõ∏Á±ç„ÄÇ", stats: { build: 608, farm: 66, make: 794, money: 256, adv: 612 }, },
            "ÂäâÊé°Êò•": { rank: "Â§©", talent: "Ë≤†Ë≤¨2Â∞èÊôÇ‰ª•‰∏äÁöÑ[Ëæ≤Áâß]Â∑•‰ΩúÊôÇÔºå‰∏ÄËµ∑Â∑•‰ΩúÁöÑÂêå‰º¥ÊØèÊúâ‰∏Ä‰ΩçÂ•≥ÊÄßÔºåÈ°çÂ§ñÁç≤Âæó[40‰ªΩ]ËèúÈ§ö„ÄÇ", stats: { build: 434, farm: 779, make: 248, money: 96, adv: 609 }, }, 
            "ÊùéÁôΩ": { rank: "Â§©", talent: "Â§ñÂá∫[Êé¢Èö™]ÊôÇÔºåÊé°ÈõÜÊâÄÊúâÁâ©È´îÁöÑÈ´îÂäõÊ∂àËÄó[-8]„ÄÇ", stats: { build: 607, farm: 607, make: 607, money: 432, adv: 790 }, }, 
            "ÂßúÂñú": { rank: "Â§©", talent: "Ë≤†Ë≤¨[Ë£Ω‰Ωú]„ÄÅ[Ëæ≤Áâß]Â∑•‰ΩúÊôÇÔºåÂ¶ÇÂ∑•‰∫∫Á∏ΩÊï∏ÁÇ∫ÈõôÊï∏ÔºåÂâáÈ°çÂ§ñÁç≤Âæó[150%]Ë≥áÊ∫ê„ÄÇ", stats: { build: 257, farm: 609, make: 795, money: 423, adv: 248 }, }, 
            "Ê±üË°å": { rank: "Â§©", talent: "Âú®ÂüéÂ∏Ç‰∏≠Ë≤†Ë≤¨1Â∞èÊôÇ‰ª•‰∏äÁöÑ[Âª∫ÈÄ†]Â∑•‰ΩúÔºåÈö®Ê©üÁç≤Âæó[40‰ªΩ]Ë≥áÊ∫êÔºå‰∏îÊâÄÈúÄÂ∑•‰∫∫[-1]„ÄÇ", stats: { build: 792, farm: 609, make: 257, money: 96, adv: 434 }, }, 
            "Á¥ÖÊãÇ": { rank: "Â§©", talent: "[Êé¢Á¥¢Êñ∞ÂçÄÂüü]ÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[15%]ÈÄ≤Â∫¶Ôºå‰∏îÊúâ[10%]Ê©üÁéáÁÑ°ÈúÄÈäÖÈå¢„ÄÇ", stats: { build: 607, farm: 246, make: 246, money: 421, adv: 793 }, }, 
            "ÂÖ¨Â≠´Á≠ñ": { rank: "Â§©", talent: "Âú®ÂüéÂ∏Ç‰∏≠Ë≤†Ë≤¨[Ë£Ω‰Ωú]Â∑•‰ΩúÊôÇÔºåÊØèÊúâ1ÂÄãÂ∑•‰∫∫ÔºåÈ°çÂ§ñÁç≤Âæó[50‰ªΩ]ËèúÈ§ö„ÄÇ", stats: { build: 438, farm: 247, make: 778, money: 256, adv: 608 }, }, 
            "ÂÖ¨Â≠´Ë∫ç": { rank: "Â§©", talent: "[Êé¢Á¥¢Êñ∞ÂçÄÂüü]ÊôÇÔºåÈúÄË¶ÅÊú¨ÈáëÊ∏õÂ∞ë[10%]Ôºå‰∏îÊâÄÈúÄÂ∑•‰∫∫[-2]„ÄÇ", stats: { build: 95, farm: 241, make: 612, money: 256, adv: 778 }, }, 
            "Â§©Ê©üÂ≠ê": { rank: "Â§©", talent: "Âú®[ÁîüÁî¢]Êàñ[ÂïÜÊ•≠Âª∫ÁØâ]‰∏≠Ë≤†Ë≤¨1Â∞èÊôÇ‰ª•‰∏äÂ∑•‰ΩúÔºåÈö®Ê©üÁç≤Âæó[15‰ªΩ]Ë≥áÊ∫êÔºå‰∏îÊâÄÈúÄÂ∑•‰∫∫[-2]„ÄÇ", stats: { build: 439, farm: 795, make: 613, money: 609, adv: 67 }, }, 
            "ÈÅìÊøü": { rank: "Â§©", talent: "Ë≤†Ë≤¨[Ë£Ω‰Ωú]Â∑•‰ΩúÊôÇÔºåÈ°çÂ§ñÁç≤Âæó[170%]Ë≥áÊ∫êÔºõ‰ΩÜÂÅö‰ªªÊÑèÂ∑•‰ΩúÊôÇÔºåÈÉΩÊúâ[15%]Ê©üÁéá‰∏çÊÉ≥ÂéªÂ∑•‰Ωú„ÄÇ", stats: { build: 247, farm: 438, make: 791, money: 88, adv: 608 }, }, 
            "ÊàêÈ≥≥ÁæΩ": { rank: "Â§©", talent: "[Âª∫ÈÄ†Â®õÊ®ÇÂª∫ÁØâ]ÊôÇÔºåÊâÄÈúÄË≥áÊ∫êÊ∂àËÄóÊ∏õÂ∞ë[10%]Ôºå‰∏¶Á´ãÂç≥ÂÆåÊàê[10%]ÈÄ≤Â∫¶„ÄÇ", stats: { build: 794, farm: 438, make: 778, money: 256, adv: 422 }, }, 
            "Á®ãÂ§ß‰Ωç": { rank: "Â§©", talent: "Ë≤†Ë≤¨[ÂæΩÂïÜ]Á∂ìÁáüÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[10%]ÈÄ≤Â∫¶Ôºå‰∏¶È°çÂ§ñÁç≤Âæó[300]ÂÆ∂ÊóèË≥áÈáë„ÄÇ", stats: { build: 247, farm: 256, make: 433, money: 794, adv: 791 }, }, 
            "Ë∂ôÂ≠üÈ†´": { rank: "‰æØ", talent: "Ë≤†Ë≤¨[Ê∂àËÄóÁ¥ôÊàñÂæΩÂ¢®]ÁöÑÂª∫ÈÄ†Â∑•‰ΩúÊôÇÔºåÁ´ãÂç≥ÂÆåÊàê[20%]ÈÄ≤Â∫¶ÔºõËàá[ÁÆ°ÈÅìÊòá]ÂÖ•‰ΩèÂêåÂüéÂ∏ÇÔºåÈõôÊñπË≤†Ë≤¨Â∑•‰ΩúÊôÇÁöÑÂ±¨ÊÄßËÆäÁÇ∫[1.1]ÂÄç„ÄÇ", stats: { build: 387, farm: 270, make: 224, money: 563, adv: 64 }, }, 
            "ÂåÖÊãØ": { rank: "Â§©", talent: "Ë≤†Ë≤¨[Âª∫ÈÄ†]ÊôÇÔºåËä±Ë≤ªÁöÑÊâÄÊúâË≥áÊ∫êÊ∏õÂ∞ë[10%]Ôºå‰ΩÜÂª∫ÈÄ†ÊôÇÈñìÂ¢ûÂä†[10%]„ÄÇ‰∏îÊâÄÈúÄÂ∑•‰∫∫[-1]„ÄÇ", stats: { build: 789, farm: 606, make: 610, money: 436, adv: 420 }, }, 
        };

        const cities = ["special_root", "ÊáâÂ§©", "ËòáÂ∑û", "Êù≠Â∑û", "ÊùæÊ±ü", "ÂæΩÂ∑û", "Á¥πËàà", "ÊèöÂ∑û", "ÈõûÈ≥¥"];
        let characters = [], masterBuildings = [], cityBuildings = {};
        let currentCity = "special_root", currentTab = "people", editingCharId = null;
        let tempDispatchCity = "Êú™ÂàÜÈÖç", editingBuildIdx = null, distTargetIdx = null, selectedDistCities = [];
        let confirmCallback = null;

        function showToast(msg) { const container = document.getElementById('toast-container'); const toast = document.createElement('div'); toast.className = 'toast'; toast.textContent = msg; container.appendChild(toast); setTimeout(() => toast.remove(), 2500); }
        function showConfirmCard(title, msg, callback) { document.getElementById('confirm-title').textContent = title; document.getElementById('confirm-msg').textContent = msg; document.getElementById('confirm-overlay').classList.add('open'); document.getElementById('confirm-card').classList.add('open'); confirmCallback = callback; }
        function handleConfirm(result) { document.getElementById('confirm-overlay').classList.remove('open'); document.getElementById('confirm-card').classList.remove('open'); if(result && confirmCallback) confirmCallback(); confirmCallback = null; }
        function init() { loadData(); renderCityTabs(); renderMainContent(); setupOverlayClick(); window.addEventListener('click', (e) => { const box = document.getElementById('suggestionBox'); if (e.target.id !== 'in-c-name' && e.target.id !== 'suggestionBox') box.style.display = 'none'; }); }
        function loadData() { characters = JSON.parse(localStorage.getItem('jiangnan_chars_v16') || '[]'); masterBuildings = JSON.parse(localStorage.getItem('jiangnan_master_v16') || '[]'); cityBuildings = JSON.parse(localStorage.getItem('jiangnan_cityb_v16') || '{}'); cities.forEach(c => { if(c !== "special_root" && !cityBuildings[c]) cityBuildings[c] = []; }); }
        function saveData() { localStorage.setItem('jiangnan_chars_v16', JSON.stringify(characters)); localStorage.setItem('jiangnan_master_v16', JSON.stringify(masterBuildings)); localStorage.setItem('jiangnan_cityb_v16', JSON.stringify(cityBuildings)); }
        function setupOverlayClick() { document.querySelectorAll('.modal-overlay').forEach(overlay => { overlay.addEventListener('click', (e) => { if (e.target === overlay) closeModal(overlay.id); }); }); }
        function switchTab(tab) { currentTab = tab; document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active')); const idx = { 'people': 0, 'city': 1, 'overview': 2 }[tab]; document.querySelectorAll('.nav-item')[idx].classList.add('active'); document.querySelectorAll('.view-section').forEach(el => el.classList.remove('active')); document.getElementById(`view-${tab}`).classList.add('active'); if(tab === 'overview' && currentCity === 'special_root') currentCity = "ÊáâÂ§©"; if(tab === 'city') currentCity = "special_root"; renderCityTabs(); renderMainContent(); }

        function renderCityTabs() { const container = document.getElementById('cityTabs'); container.innerHTML = ''; const list = (currentTab === 'overview') ? cities.slice(1) : cities; list.forEach(city => { const btn = document.createElement('div'); let name = city; if(city === "special_root") { if(currentTab === 'people') name = "Êú™ÂàÜÈ°û"; else if(currentTab === 'city') name = "ÂÄâÂ∫´"; else name = "Êú™ÂàÜÈ°û"; } btn.className = `city-tab ${city === "special_root" ? 'special-tab' : ''} ${city === currentCity ? 'active' : ''}`; btn.textContent = name; btn.onclick = () => { currentCity = city; renderCityTabs(); renderMainContent(); }; container.appendChild(btn); }); }
        function renderMainContent() { if(currentTab === 'people') renderPeople(); else if(currentTab === 'city') renderCityInfo(); else renderOverview(); }
        function parseTalent(text) { return text ? text.replace(/\[(.*?)\]/g, '<span class="talent-hl">$1</span>') : "ÁõÆÂâçÁÑ°ÁâπÊÆäËÉΩÂäõË®≠ÂÆö"; }

        function renderPeople() {
            const search = document.getElementById('searchInput').value.trim();
            const container = document.getElementById('charList'); container.innerHTML = '';
            let filtered = search ? characters.filter(c => c.name.includes(search)) : characters.filter(c => (currentCity === "special_root" ? c.city === "Êú™ÂàÜÈÖç" : c.city === currentCity));
            const rankPriority = { "Â§©": 1, "‰æØ": 2, "Âçø": 3, "Â£´": 4 };
            filtered.sort((a, b) => (rankPriority[a.rank] || 99) - (rankPriority[b.rank] || 99));
            filtered.forEach(char => {
                const card = document.createElement('div'); card.className = 'card-base char-card'; card.onclick = () => openEditCharModal(char.id);
                const s = char.stats; const isH = (k) => s[k]>=700?'stat-ultra':(s[k]>=600)?'stat-high':'';
                card.innerHTML = `<div class="card-header-row"><span class="char-name">${char.name}</span><span class="rank-tag bg-${char.rank}">${char.rank}</span></div><div class="char-talent">${parseTalent(char.talent)}</div><div class="stats-row"><div class="stat-box"><span class="stat-label">Âª∫</span><span class="stat-val ${isH('build')}">${s.build}</span></div><div class="stat-box"><span class="stat-label">Ëæ≤</span><span class="stat-val ${isH('farm')}">${s.farm}</span></div><div class="stat-box"><span class="stat-label">Ë£Ω</span><span class="stat-val ${isH('make')}">${s.make}</span></div><div class="stat-box"><span class="stat-label">ÁêÜ</span><span class="stat-val ${isH('money')}">${s.money}</span></div><div class="stat-box"><span class="stat-label">Êé¢</span><span class="stat-val ${isH('adv')}">${s.adv}</span></div></div>`;
                container.appendChild(card);
            });
        }

        function handleNameInput() { const val = document.getElementById('in-c-name').value.trim(); const box = document.getElementById('suggestionBox'); box.innerHTML = ''; if(!val) { box.style.display = 'none'; return; } const matches = Object.keys(charDB).filter(n => n.includes(val)); matches.forEach(m => { const item = document.createElement('div'); item.className = 'suggestion-item'; item.innerHTML = `<span>${m}</span><span style="font-size:0.75rem; color:#8e8e93;">${charDB[m].rank}</span>`; item.onclick = () => { const d = charDB[m]; document.getElementById('in-c-name').value = m; document.getElementById('in-c-rank').value = d.rank; document.getElementById('in-c-talent').value = d.talent || ""; if(d.stats) Object.keys(d.stats).forEach(k => document.getElementById(`in-c-${k}`).value = d.stats[k]); box.style.display = 'none'; }; box.appendChild(item); }); box.style.display = matches.length > 0 ? 'block' : 'none'; }
        function openAddCharModal() { editingCharId = null; tempDispatchCity = "Êú™ÂàÜÈÖç"; document.getElementById('charModalTitle').textContent = "Êñ∞Â¢û‰∫∫Áâ©"; document.getElementById('in-c-name').value = ''; document.getElementById('in-c-talent').value = ''; ['build','farm','make','money','adv'].forEach(k => document.getElementById(`in-c-${k}`).value = ''); document.getElementById('btn-delete-char').style.display = 'none'; renderModalCities(); document.getElementById('charModal').classList.add('open'); }
        function openEditCharModal(id) { editingCharId = id; const char = characters.find(c => c.id === id); tempDispatchCity = char.city; document.getElementById('charModalTitle').textContent = "Á∑®ËºØ‰∫∫Áâ©"; document.getElementById('in-c-name').value = char.name; document.getElementById('in-c-rank').value = char.rank; document.getElementById('in-c-talent').value = char.talent || ""; Object.keys(char.stats).forEach(k => document.getElementById(`in-c-${k}`).value = char.stats[k]); renderModalCities(); document.getElementById('btn-delete-char').style.display = 'block'; document.getElementById('charModal').classList.add('open'); }
        function saveChar() { const name = document.getElementById('in-c-name').value.trim(); if(!name) return showToast("‚ö†Ô∏è Ë´ãËº∏ÂÖ•ÂßìÂêç"); const isDuplicate = characters.some(c => c.name === name && c.id !== editingCharId); if (isDuplicate) return showToast(`‚ö†Ô∏è „Äå${name}„ÄçÂ∑≤Âú®ÂêçÂÜä‰∏≠`); const data = { name, rank: document.getElementById('in-c-rank').value, talent: document.getElementById('in-c-talent').value, city: tempDispatchCity, stats: { build: parseInt(document.getElementById('in-c-build').value)||0, farm: parseInt(document.getElementById('in-c-farm').value)||0, make: parseInt(document.getElementById('in-c-make').value)||0, money: parseInt(document.getElementById('in-c-money').value)||0, adv: parseInt(document.getElementById('in-c-adv').value)||0 } }; if(editingCharId) characters[characters.findIndex(c => c.id === editingCharId)] = { id: editingCharId, ...data }; else characters.push({ id: Date.now(), ...data }); saveData(); closeModal('charModal'); renderMainContent(); showToast("‚úÖ ÂÑ≤Â≠òÊàêÂäü"); }
        function askDeleteChar() { showConfirmCard("Âà™Èô§‰∫∫Áâ©", "Á¢∫ÂÆöË¶ÅÂà™Èô§ÈÄô‰ΩçËßíËâ≤ÂóéÔºü", () => { characters = characters.filter(c => c.id !== editingCharId); saveData(); closeModal('charModal'); renderMainContent(); showToast("üóëÔ∏è Â∑≤Âà™Èô§"); }); }
        function renderModalCities() { const container = document.getElementById('modalCityGrid'); container.innerHTML = ''; ["Êú™ÂàÜÈÖç", ...cities.slice(1)].forEach(c => { const btn = document.createElement('button'); btn.className = `dispatch-btn ${c === tempDispatchCity ? 'selected' : ''}`; btn.textContent = c; btn.onclick = () => { tempDispatchCity = c; renderModalCities(); }; container.appendChild(btn); }); }

        function getGroupedBuildings(list) { const groups = {}; list.forEach(b => { if (!groups[b.name]) groups[b.name] = { ...b, count: 1 }; else groups[b.name].count++; }); return Object.values(groups); }
        function askDeleteCityBuildingByName(city, name) { showConfirmCard("ÊãÜÈô§Âª∫ÁØâ", `Á¢∫ÂÆöË¶ÅÊãÜÈô§ ${city} ÁöÑÂÖ∂‰∏≠‰∏ÄÂ∫ß„Äå${name}„ÄçÂóéÔºü`, () => { const idx = cityBuildings[city].findIndex(b => b.name === name); if (idx > -1) { cityBuildings[city].splice(idx, 1); saveData(); renderMainContent(); showToast("üóëÔ∏è Â∑≤ÊãÜÈô§‰∏ÄÂ∫ß"); } }); }

        function renderCityInfo() {
            const isWarehouse = (currentCity === "special_root");
            const search = document.getElementById('searchBuildInput').value.trim();
            document.getElementById('addBuildBtn').style.display = isWarehouse ? 'block' : 'none';
            document.getElementById('build-subtitle').textContent = isWarehouse ? "Âª∫ÁØâÂÄâÂ∫´" : `${currentCity} Âª∫ÁØâÊ∏ÖÂñÆ`;
            const container = document.getElementById('buildingList'); container.innerHTML = '';
            if (isWarehouse) {
                let filtered = search ? masterBuildings.filter(b => b.name.includes(search)) : masterBuildings;
                filtered.forEach((b) => { const originalIdx = masterBuildings.indexOf(b); const card = document.createElement('div'); card.className = `card-base building-card`; card.onclick = () => openEditBuildingModal(originalIdx); card.innerHTML = `<div class="b-color-strip" style="background:${b.color||'#ddd'}"></div><div class="b-info"><span class="b-name">${b.name}</span><span class="b-desc">${b.desc}</span></div><button class="btn-distribute" onclick="event.stopPropagation(); openDistributeModal(masterBuildings.indexOf(b))"><span class="material-symbols-outlined">add_location_alt</span>ÂàÜÈÖç</button>`; container.appendChild(card); });
            } else {
                let cityList = cityBuildings[currentCity] || [];
                let filtered = search ? cityList.filter(b => b.name.includes(search)) : cityList;
                const grouped = getGroupedBuildings(filtered);
                grouped.forEach(b => { const card = document.createElement('div'); card.className = `card-base building-card`; card.onclick = () => askDeleteCityBuildingByName(currentCity, b.name); card.innerHTML = `<div class="b-color-strip" style="background:${b.color||'#ddd'}"></div><div class="b-info"><span class="b-name">${b.name}</span><span class="b-desc">${b.desc}</span></div>${b.count > 1 ? `<div class="b-count-tag">x${b.count}</div>` : ''}`; container.appendChild(card); });
            }
        }

        function syncColorInput(val) {
            const circle = document.getElementById('color-circle');
            const picker = document.getElementById('in-b-color');
            const hexInput = document.getElementById('in-b-hex');
            if (val.startsWith('#') && (val.length === 7 || val.length === 4)) { circle.style.background = val; picker.value = val; hexInput.value = val.toUpperCase(); } 
            else if (!val.startsWith('#') && (val.length === 6 || val.length === 3)) { const hexVal = '#' + val; circle.style.background = hexVal; picker.value = hexVal; hexInput.value = hexVal.toUpperCase(); } 
            else { circle.style.background = val; hexInput.value = val.toUpperCase(); }
        }

        function openAddBuildingModal() { editingBuildIdx = null; document.getElementById('in-b-name').value = ""; document.getElementById('in-b-desc').value = ""; document.getElementById('in-b-color').value = "#5dabff"; syncColorInput("#5dabff"); document.getElementById('btn-delete-build').style.display = 'none'; document.getElementById('buildingModal').classList.add('open'); }
        function openEditBuildingModal(idx) { editingBuildIdx = idx; const b = masterBuildings[idx]; document.getElementById('in-b-name').value = b.name; document.getElementById('in-b-desc').value = b.desc; document.getElementById('in-b-color').value = b.color; syncColorInput(b.color); document.getElementById('btn-delete-build').style.display = 'block'; document.getElementById('buildingModal').classList.add('open'); }
        
        function saveMasterBuilding() { 
            const name = document.getElementById('in-b-name').value.trim(); 
            if(!name) return showToast("‚ö†Ô∏è Ë´ãËº∏ÂÖ•ÂêçÁ®±"); 
            const color = document.getElementById('in-b-color').value;
            const desc = document.getElementById('in-b-desc').value;
            const bData = { name, color, desc }; 
            if(editingBuildIdx !== null) {
                const oldName = masterBuildings[editingBuildIdx].name; masterBuildings[editingBuildIdx] = bData;
                for (let city in cityBuildings) { cityBuildings[city].forEach(cb => { if (cb.name === oldName) { cb.name = bData.name; cb.color = bData.color; cb.desc = bData.desc; } }); }
                showToast("‚úÖ Â∑≤ÂêåÊ≠•ÂÖ®Âüé");
            } else { masterBuildings.push(bData); showToast("‚úÖ Â∑≤Êñ∞Â¢û"); } 
            saveData(); closeModal('buildingModal'); renderMainContent(); 
        }

        function askDeleteBuild() { showConfirmCard("ÈÄ£ÈéñÂà™Èô§", "Á¢∫ÂÆöË¶ÅÂà™Èô§ÂÄâÂ∫´ÂéüÂûãÂóéÔºüÂêÑÂüéÂ∏ÇÁöÑÂêåÂêçÂª∫ÁØâÂ∞á‰∏Ä‰ΩµË¢´ÊãÜÈô§ÔºÅ", () => { const targetName = masterBuildings[editingBuildIdx].name; masterBuildings.splice(editingBuildIdx, 1); for (let c in cityBuildings) { cityBuildings[c] = cityBuildings[c].filter(b => b.name !== targetName); } saveData(); closeModal('buildingModal'); renderMainContent(); showToast("üóëÔ∏è Â∑≤ÈÄ£ÈéñÊ∏ÖÈô§"); }); }
        function openDistributeModal(idx) { distTargetIdx = idx; selectedDistCities = []; const container = document.getElementById('distCityGrid'); container.innerHTML = ''; cities.slice(1).forEach(city => { const btn = document.createElement('button'); btn.className = 'dispatch-btn'; btn.textContent = city; btn.onclick = () => { if(selectedDistCities.includes(city)) selectedDistCities = selectedDistCities.filter(c => c !== city); else selectedDistCities.push(city); btn.classList.toggle('selected'); }; container.appendChild(btn); }); document.getElementById('distributeModal').classList.add('open'); }
        function confirmDistribution() { if(selectedDistCities.length === 0) return; const b = masterBuildings[distTargetIdx]; selectedDistCities.forEach(city => { if(!cityBuildings[city]) cityBuildings[city] = []; cityBuildings[city].push({...b}); }); saveData(); closeModal('distributeModal'); showToast(`üèóÔ∏è ÂàÜÈÖçÂÆåÊàê`); }
        function toggleOvSection(sectionId, headerEl) { const content = document.getElementById(sectionId); const isCollapsed = content.classList.toggle('collapsed'); headerEl.classList.toggle('ov-divider-collapsed', isCollapsed); }

        function renderOverview() {
            const container = document.getElementById('overview-content');
            const isUnassigned = (currentCity === "special_root");
            const pList = characters.filter(c => (isUnassigned ? c.city === "Êú™ÂàÜÈÖç" : c.city === currentCity));
            const rankPriority = { "Â§©": 1, "‰æØ": 2, "Âçø": 3, "Â£´": 4 };
            pList.sort((a, b) => (rankPriority[a.rank] || 99) - (rankPriority[b.rank] || 99));

            let html = `
                <div class="overview-divider" onclick="toggleOvSection('ov-p-content', this)">ÈßêÁ¥ÆÂÆòÂì° <span class="ov-count-tag">${pList.length} ‰∫∫</span><span class="material-symbols-outlined ov-toggle-icon">expand_more</span></div>
                <div class="ov-collapsible-content" id="ov-p-content"><div class="ov-char-grid" id="ov-p"></div></div>
            `;
            if (!isUnassigned) {
                const grouped = getGroupedBuildings(cityBuildings[currentCity] || []);
                html += `
                    <div class="overview-divider" onclick="toggleOvSection('ov-b-content', this)">ÂüéÂÖßÂª∫ÁØâ <span class="ov-count-tag">${grouped.length} Á®Æ</span><span class="material-symbols-outlined ov-toggle-icon">expand_more</span></div>
                    <div class="ov-collapsible-content" id="ov-b-content"><div class="ov-build-grid" id="ov-b"></div></div>
                `;
            }
            container.innerHTML = html;
            pList.forEach(char => {
                const card = document.createElement('div'); card.className = 'card-base char-card ov-char-card'; card.onclick = () => openEditCharModal(char.id);
                card.innerHTML = `<div class="card-header-row"><span class="char-name">${char.name}</span><span class="rank-tag bg-${char.rank}">${char.rank}</span></div><div class="char-talent">${parseTalent(char.talent)}</div>`;
                document.getElementById('ov-p').appendChild(card);
            });
            if (!isUnassigned) {
                const grouped = getGroupedBuildings(cityBuildings[currentCity] || []);
                grouped.forEach(b => {
                    const card = document.createElement('div'); card.className = 'card-base building-card ov-build-card';
                    card.onclick = () => askDeleteCityBuildingByName(currentCity, b.name);
                    card.innerHTML = `<div class="b-color-strip" style="background:${b.color||'#ddd'}"></div><div class="b-info"><span class="b-name">${b.name}</span></div>${b.count > 1 ? `<div class="b-count-tag">x${b.count}</div>` : ''}`;
                    document.getElementById('ov-b').appendChild(card);
                });
            }
        }

        function openDataModal() { document.getElementById('data-area').value = JSON.stringify({ characters, masterBuildings, cityBuildings }); document.getElementById('dataModal').classList.add('open'); }
        function copyData() { document.getElementById('data-area').select(); document.execCommand('copy'); showToast("üìã Êï∏ÊìöÂ∑≤Ë§áË£Ω"); }
        function importData() { showConfirmCard("ÈÇÑÂéüÊï∏Êìö", "Á¢∫ÂÆöË¶ÅË¶ÜËìãÂóéÔºü", () => { try { const d = JSON.parse(document.getElementById('data-area').value); characters = d.characters; masterBuildings = d.masterBuildings; cityBuildings = d.cityBuildings; saveData(); location.reload(); } catch(e) { showToast("‚ùå Ëß£ÊûêÂ§±Êïó"); } }); }
        function closeModal(id) { document.getElementById(id).classList.remove('open'); editingBuildIdx = null; }

        init();
    </script>
</body>
</html>
